<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Ferreira">
<meta name="dcterms.date" content="2025-06-04">

<title>Clustering Project: Quiz Prosperous Couple Leads Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="AnaliseMarketingCasalProspero_files/libs/clipboard/clipboard.min.js"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/popper.min.js"></script>
<script src="AnaliseMarketingCasalProspero_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="AnaliseMarketingCasalProspero_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="AnaliseMarketingCasalProspero_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="AnaliseMarketingCasalProspero_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="AnaliseMarketingCasalProspero_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="AnaliseMarketingCasalProspero_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Clustering Project: Quiz Prosperous Couple Leads Analysis</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Ferreira </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 4, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Analyze data collected through an interactive quiz, focused on couples planning their wedding. The main purpose is to segment these leads to better understand their profiles, needs, and stage in planning.</p>
<p>The main objective was to use unsupervised learning techniques (clustering) to identify distinct groups of couples based on their responses, allowing for the creation of more effective and personalized marketing strategies.</p>
</section>
<section id="project-structure" class="level1">
<h1>Project Structure</h1>
<p>The development of this project followed a structured and iterative methodology, covering everything from data collection and preparation to the evaluation and interpretation of results.</p>
<section id="data-collection-and-preparation" class="level2">
<h2 data-anchor-id="data-collection-and-preparation">Data Collection and Preparation</h2>
<p>The initial phase involved the consolidation and cleaning of data. Leads were collected from three distinct sources, requiring a unification and standardization process to ensure dataset quality.</p>
<section id="data-loading-and-concatenation" class="level3">
<h3 data-anchor-id="data-loading-and-concatenation">Data Loading and Concatenation</h3>
<ul>
<li>Data Source: Collection of online quiz responses, distributed across 03 CSV files.</li>
<li>Loading and Unification: Reading different files and consolidating them into a single dataset.</li>
</ul>
<section id="first-5-rows-of-df01" class="level6">
<h6 data-anchor-id="first-5-rows-of-df01">First 5 rows of df01:</h6>
<div id="956ff07c" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>df_01.head(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="167">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">code</th>
<th data-quarto-table-cell-role="th">created_at</th>
<th data-quarto-table-cell-role="th">button: oQcJxV</th>
<th data-quarto-table-cell-role="th">options: opcoes_UAa9JQ</th>
<th data-quarto-table-cell-role="th">button: 0FvZw6</th>
<th data-quarto-table-cell-role="th">options: opcoes_KxEbYn</th>
<th data-quarto-table-cell-role="th">options: opcoes_iSdQa9</th>
<th data-quarto-table-cell-role="th">options: opcoes_GZPJo1</th>
<th data-quarto-table-cell-role="th">options: opcoes_n5nnNG</th>
<th data-quarto-table-cell-role="th">options: opcoes_G7CtE4</th>
<th data-quarto-table-cell-role="th">options: opcoes_euOjgt</th>
<th data-quarto-table-cell-role="th">options: opcoes_3FPmNX</th>
<th data-quarto-table-cell-role="th">options: opcoes_kGxmr1</th>
<th data-quarto-table-cell-role="th">field: 11ABFZ</th>
<th data-quarto-table-cell-role="th">field: 3hxWeL</th>
<th data-quarto-table-cell-role="th">field: 5fSLVc</th>
<th data-quarto-table-cell-role="th">button: enviar</th>
<th data-quarto-table-cell-role="th">tracking</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>OdFIeA</td>
<td>30/04/2025 08:44:26</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(B) Conseguimos nos manter, mas não sobra</td>
<td>(B) Está envolvido(a), mas prefere que eu lidere</td>
<td>(C) Criamos um planejamento inicial, mas ainda...</td>
<td>(C) Teríamos que parcelar bastante ou contar c...</td>
<td>(C) Uma cerimônia encantadora, com tudo bem feito</td>
<td>(C) Temos destinos em mente, mas sem orçamento...</td>
<td>(D) Estamos prontos, queremos agir e realizar ...</td>
<td>Gines</td>
<td>okmodesto@gmail.com</td>
<td>61974035966</td>
<td>clicked</td>
<td>src: UNICOTRACKER-2348-2348174611426542420-174...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>AShHDV</td>
<td>30/04/2025 08:47:31</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(C) Temos folga, mas ainda não vivemos como go...</td>
<td>(D) Prefere que eu resolva tudo sozinho(a)</td>
<td>(D) Temos planilhas, metas e até cronograma de...</td>
<td>(D) Poderíamos arcar com boa parte, mas querem...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>Gines</td>
<td>okmodesto@gmail.com</td>
<td>61974035966</td>
<td>clicked</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>5lPo6L</td>
<td>30/04/2025 08:55:30</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(B) Conseguimos nos manter, mas não sobra</td>
<td>(A) Está completamente envolvido(a), sonha jun...</td>
<td>(B) Temos anotações e ideias soltas</td>
<td>(A) Não conseguiríamos bancar nada ainda</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>sSZ91S</td>
<td>30/04/2025 09:04:38</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(B) Temos algumas referências, mas nada decidido</td>
<td>(A) Vivemos no limite e temos dívidas</td>
<td>(B) Está envolvido(a), mas prefere que eu lidere</td>
<td>(A) Não começamos ainda</td>
<td>(B) Conseguiríamos fazer algo simples</td>
<td>(A) Ainda não pensamos nisso</td>
<td>(A) Nem pensamos nisso ainda</td>
<td>(B) Queremos muito, mas temos medo de não dar ...</td>
<td>Bruno Teste</td>
<td>brunopurper3@gmail.com</td>
<td>48991954215</td>
<td>clicked</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>jv69Q9</td>
<td>30/04/2025 09:08:10</td>
<td>clicked</td>
<td>NaN</td>
<td>NaN</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(B) Conseguimos nos manter, mas não sobra</td>
<td>(A) Está completamente envolvido(a), sonha jun...</td>
<td>(A) Não começamos ainda</td>
<td>(B) Conseguiríamos fazer algo simples</td>
<td>(B) Algo íntimo e simples, só com pessoas próx...</td>
<td>(B) Pensamos, mas parece fora da nossa realidade</td>
<td>(B) Queremos muito, mas temos medo de não dar ...</td>
<td>Gines</td>
<td>okmodesto@gmail.com</td>
<td>61974035966</td>
<td>clicked</td>
<td>NaN</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="count-of-each-column-df01" class="level6">
<h6 data-anchor-id="count-of-each-column-df01">Count of each column df01:</h6>
<div id="30c9be90" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_01.count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="168">
<pre><code>code                      353
created_at                353
button: oQcJxV            331
options: opcoes_UAa9JQ      0
button: 0FvZw6             22
options: opcoes_KxEbYn    260
options: opcoes_iSdQa9    249
options: opcoes_GZPJo1    235
options: opcoes_n5nnNG    227
options: opcoes_G7CtE4    223
options: opcoes_euOjgt    220
options: opcoes_3FPmNX    220
options: opcoes_kGxmr1    218
field: 11ABFZ              74
field: 3hxWeL              74
field: 5fSLVc              74
button: enviar             74
tracking                  341
dtype: int64</code></pre>
</div>
</div>
</section>
<section id="count-of-each-column-df02" class="level6">
<h6 data-anchor-id="count-of-each-column-df02">Count of each column df02:</h6>
<div id="76499720" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df_02.count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="169">
<pre><code>code                      162
created_at                162
button: oQcJxV            120
options: opcoes_UAa9JQ      0
button: 0FvZw6             41
options: opcoes_KxEbYn    142
options: opcoes_iSdQa9    142
options: opcoes_GZPJo1    138
options: opcoes_n5nnNG    138
options: opcoes_G7CtE4    137
options: opcoes_euOjgt    136
options: opcoes_3FPmNX    135
options: opcoes_kGxmr1    135
field: 11ABFZ              63
field: 3hxWeL              63
field: 5fSLVc              63
button: enviar             63
tracking                  154
dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="data-cleaning" class="level3">
<h3 data-anchor-id="data-cleaning">Data Cleaning</h3>
<p>The columns created_at options: opcoes_UAa9JQ, code,button: oQcJxV, button: 0FvZw6, button: enviar and tracking do not contain relevant information for the analysis, so we can remove them from df01 and df02. The columns field: 11ABFZ, field: 3hxWeL, field: 5fSLVc contain data about the lead, but have too little data to work with, so we will also remove them from the dataframes..</p>
<section id="removal-of-defined-columns-from-df01-and-df02" class="level6">
<h6 data-anchor-id="removal-of-defined-columns-from-df01-and-df02">Removal of defined columns from df01 and df02:</h6>
<div id="ec1f3b9c" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df_01 <span class="op">=</span> df_01.drop(columns<span class="op">=</span>[<span class="st">"created_at"</span>,<span class="st">"options: opcoes_UAa9JQ"</span>,<span class="st">"code"</span>, <span class="st">"button: oQcJxV"</span>, <span class="st">"button: 0FvZw6"</span>, <span class="st">"field: 11ABFZ"</span>, <span class="st">"field: 3hxWeL"</span>,<span class="st">"field: 5fSLVc"</span>, <span class="st">"button: enviar"</span>, <span class="st">"tracking"</span>])</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>df_02 <span class="op">=</span> df_02.drop(columns<span class="op">=</span>[<span class="st">"created_at"</span>,<span class="st">"options: opcoes_UAa9JQ"</span>,<span class="st">"code"</span>, <span class="st">"button: oQcJxV"</span>, <span class="st">"button: 0FvZw6"</span>, <span class="st">"field: 11ABFZ"</span>, <span class="st">"field: 3hxWeL"</span>,<span class="st">"field: 5fSLVc"</span>, <span class="st">"button: enviar"</span>, <span class="st">"tracking"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s remove the columns: code button: oQcJxV options: opcoes_UAa9JQ button: 0FvZw6 options: opcoes_PhNxWH options: opcoes_NMBS1J options: opcoes_Peavhn options: opcoes_RyUh7O options: opcoes_S8x7OR options: opcoes_MNd05q options: opcoes_AQo3UU options: opcoes_yYueg1 field: 11ABFZ field: 3hxWeL field: 5fSLVc button: enviar tracking</p>
<p>from df_03, for the same reasons as the removal of columns from df1 and df02.</p>
</section>
<section id="removal-of-defined-columns-from-df03" class="level6">
<h6 data-anchor-id="removal-of-defined-columns-from-df03">Removal of defined columns from df03:</h6>
<div id="19030ef6" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df_03 <span class="op">=</span> df_03.drop(columns<span class="op">=</span>[<span class="st">"created_at"</span>,<span class="st">"code"</span>, <span class="st">"button: oQcJxV"</span>,<span class="st">"options: opcoes_UAa9JQ"</span>,<span class="st">"button: 0FvZw6"</span>,</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"button: 0FvZw6"</span>, <span class="st">"options: opcoes_PhNxWH"</span>, <span class="st">"options: opcoes_NMBS1J"</span>, <span class="st">"options: opcoes_Peavhn"</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"options: opcoes_RyUh7O"</span>, <span class="st">"options: opcoes_S8x7OR"</span>, <span class="st">"options: opcoes_MNd05q"</span>, <span class="st">"options: opcoes_AQo3UU"</span>,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"options: opcoes_yYueg1"</span>,<span class="st">"field: 11ABFZ"</span>, <span class="st">"field: 3hxWeL"</span>,<span class="st">"field: 5fSLVc"</span>, <span class="st">"button: enviar"</span>, <span class="st">"tracking"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now all three dataframes have the same columns, let’s rename them and concatenate the dataframes.</p>
</section>
<section id="column-renaming-and-concatenating-the-dataframes" class="level6">
<h6 data-anchor-id="column-renaming-and-concatenating-the-dataframes">Column Renaming and Concatenating the dataframes:</h6>
<div id="9e8c10f9" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>rename_dict <span class="op">=</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_KxEbYn'</span>: <span class="st">'pergunta_1'</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_iSdQa9'</span>: <span class="st">'pergunta_2'</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_GZPJo1'</span>: <span class="st">'pergunta_3'</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_n5nnNG'</span>: <span class="st">'pergunta_4'</span>,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_G7CtE4'</span>: <span class="st">'pergunta_5'</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_euOjgt'</span>: <span class="st">'pergunta_6'</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_3FPmNX'</span>: <span class="st">'pergunta_7'</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'options: opcoes_kGxmr1'</span>: <span class="st">'pergunta_8'</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Renomear colunas para df_01</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>df_01 <span class="op">=</span> df_01.rename(columns<span class="op">=</span>rename_dict)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>df_02 <span class="op">=</span> df_02.rename(columns<span class="op">=</span>rename_dict)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>df_03 <span class="op">=</span> df_03.rename(columns<span class="op">=</span>rename_dict)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenar os dataframes</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>df_gf <span class="op">=</span> pd.concat([df_01, df_02, df_03], ignore_index<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="sample-of-the-cleaned-and-concatenated-dataframe" class="level6">
<h6 data-anchor-id="sample-of-the-cleaned-and-concatenated-dataframe">Sample of the cleaned and concatenated dataframe:</h6>
<div id="9f0a8317" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df_gf.sample(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="173">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1</th>
<th data-quarto-table-cell-role="th">pergunta_2</th>
<th data-quarto-table-cell-role="th">pergunta_3</th>
<th data-quarto-table-cell-role="th">pergunta_4</th>
<th data-quarto-table-cell-role="th">pergunta_5</th>
<th data-quarto-table-cell-role="th">pergunta_6</th>
<th data-quarto-table-cell-role="th">pergunta_7</th>
<th data-quarto-table-cell-role="th">pergunta_8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">543</td>
<td>Ainda estamos completamente perdidos sobre tudo</td>
<td>Temos folga, mas ainda não vivemos como gostar...</td>
<td>Está envolvido(a), mas prefere que eu lidere</td>
<td>Temos anotações e ideias soltas</td>
<td>Conseguiríamos fazer algo simples</td>
<td>Algo íntimo e simples, só com pessoas próximas</td>
<td>Temos destinos em mente, mas sem orçamento ainda</td>
<td>Desejamos, mas nos falta tempo e direção</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">252</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">417</td>
<td>(A) Ainda estamos completamente perdidos sobre...</td>
<td>(C) Temos folga, mas ainda não vivemos como go...</td>
<td>(C) Me apoia, mas não se envolve muito com o p...</td>
<td>(A) Não começamos ainda</td>
<td>(A) Não conseguiríamos bancar nada ainda</td>
<td>(C) Uma cerimônia encantadora, com tudo bem feito</td>
<td>(D) Já sabemos onde queremos ir e estamos nos ...</td>
<td>(B) Queremos muito, mas temos medo de não dar ...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We noticed that some answers have the letter A/B/C/D before the answer and other answers do not. We need to map both scenarios.</p>
</section>
<section id="mapping-responses-with-and-without-letter" class="level6">
<h6 data-anchor-id="mapping-responses-with-and-without-letter">Mapping responses (with and without letter):</h6>
<div id="4562e7d5" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dictionary to map responses with letter</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>mapeamento_com_letra <span class="op">=</span> {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Ainda estamos completamente perdidos sobre tudo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Temos algumas referências, mas nada decidido'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Já temos o estilo em mente, mas falta planejar'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Sabemos exatamente o que queremos e já começamos a organizar'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Vivemos no limite e temos dívidas'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Conseguimos nos manter, mas não sobra'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Temos folga, mas ainda não vivemos como gostaríamos'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Estamos bem financeiramente, mas queremos crescer mais'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Está completamente envolvido(a), sonha junto comigo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Está envolvido(a), mas prefere que eu lidere'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Me apoia, mas não se envolve muito com o planejamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Prefere que eu resolva tudo sozinho(a)'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Não começamos ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Temos anotações e ideias soltas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Criamos um planejamento inicial, mas ainda sem orçamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Temos planilhas, metas e até cronograma definido'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Não conseguiríamos bancar nada ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Conseguiríamos fazer algo simples'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Teríamos que parcelar bastante ou contar com ajuda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Poderíamos arcar com boa parte, mas queremos mais liberdade'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Ainda não pensamos nisso'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Algo íntimo e simples, só com pessoas próximas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Uma cerimônia encantadora, com tudo bem feito'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Um evento inesquecível, com tudo que temos direito'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Nem pensamos nisso ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Pensamos, mas parece fora da nossa realidade'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Temos destinos em mente, mas sem orçamento ainda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Já sabemos onde queremos ir e estamos nos planejando'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(A) Desejamos, mas nos falta tempo e direção'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(B) Queremos muito, mas temos medo de não dar conta'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(C) Estamos dispostos, só falta um plano eficaz'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">'(D) Estamos prontos, queremos agir e realizar de verdade'</span>: <span class="st">'D'</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Dictionary to map responses without letter</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>mapeamento_sem_letra <span class="op">=</span> {</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Ainda estamos completamente perdidos sobre tudo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos algumas referências, mas nada decidido'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Já temos o estilo em mente, mas falta planejar'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Sabemos exatamente o que queremos e já começamos a organizar'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Vivemos no limite e temos dívidas'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Conseguimos nos manter, mas não sobra'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos folga, mas ainda não vivemos como gostaríamos'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estamos bem financeiramente, mas queremos crescer mais'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Está completamente envolvido(a), sonha junto comigo'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Está envolvido(a), mas prefere que eu lidere'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Me apoia, mas não se envolve muito com o planejamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Prefere que eu resolva tudo sozinho(a)'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Não começamos ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos anotações e ideias soltas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Criamos um planejamento inicial, mas ainda sem orçamento'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos planilhas, metas e até cronograma definido'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Não conseguiríamos bancar nada ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Conseguiríamos fazer algo simples'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Teríamos que parcelar bastante ou contar com ajuda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Poderíamos arcar com boa parte, mas queremos mais liberdade'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Ainda não pensamos nisso'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Algo íntimo e simples, só com pessoas próximas'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Uma cerimônia encantadora, com tudo bem feito'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Um evento inesquecível, com tudo que temos direito'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Nem pensamos nisso ainda'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Pensamos, mas parece fora da nossa realidade'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Temos destinos em mente, mas sem orçamento ainda'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Já sabemos onde queremos ir e estamos nos planejando'</span>: <span class="st">'D'</span>,</span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Desejamos, mas nos falta tempo e direção'</span>: <span class="st">'A'</span>,</span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Queremos muito, mas temos medo de não dar conta'</span>: <span class="st">'B'</span>,</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estamos dispostos, só falta um plano eficaz'</span>: <span class="st">'C'</span>,</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Estamos prontos, queremos agir e realizar de verdade'</span>: <span class="st">'D'</span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to map responses</span></span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mapear_resposta(resposta, mapeamento_letra, mapeamento_sem):</span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(resposta, <span class="bu">str</span>):</span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>        resposta <span class="op">=</span> resposta.strip()</span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>    resposta_mapeada <span class="op">=</span> mapeamento_letra.get(resposta)</span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> resposta_mapeada:</span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> resposta_mapeada</span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>    resposta_mapeada <span class="op">=</span> mapeamento_sem.get(resposta)</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> resposta_mapeada:</span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> resposta_mapeada</span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a><span class="co"># Applies the function to all question columns</span></span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>colunas_perguntas <span class="op">=</span> [<span class="st">'pergunta_1'</span>, <span class="st">'pergunta_2'</span>, <span class="st">'pergunta_3'</span>, <span class="st">'pergunta_4'</span>, <span class="st">'pergunta_5'</span>, <span class="st">'pergunta_6'</span>, <span class="st">'pergunta_7'</span>, <span class="st">'pergunta_8'</span>]</span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>df_gf[colunas_perguntas] <span class="op">=</span> df_gf[colunas_perguntas].applymap(<span class="kw">lambda</span> resposta: mapear_resposta(resposta, mapeamento_com_letra, mapeamento_sem_letra))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="handling-missing-values" class="level3">
<h3 data-anchor-id="handling-missing-values">Handling Missing Values</h3>
<section id="describe-of-the-dataframe" class="level6">
<h6 data-anchor-id="describe-of-the-dataframe">Describe of the dataframe:</h6>
<div id="e801bd96" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_gf.describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="175">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1</th>
<th data-quarto-table-cell-role="th">pergunta_2</th>
<th data-quarto-table-cell-role="th">pergunta_3</th>
<th data-quarto-table-cell-role="th">pergunta_4</th>
<th data-quarto-table-cell-role="th">pergunta_5</th>
<th data-quarto-table-cell-role="th">pergunta_6</th>
<th data-quarto-table-cell-role="th">pergunta_7</th>
<th data-quarto-table-cell-role="th">pergunta_8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>495</td>
<td>482</td>
<td>457</td>
<td>449</td>
<td>443</td>
<td>439</td>
<td>438</td>
<td>436</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">unique</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">top</td>
<td>A</td>
<td>B</td>
<td>A</td>
<td>A</td>
<td>B</td>
<td>B</td>
<td>A</td>
<td>B</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">freq</td>
<td>178</td>
<td>189</td>
<td>219</td>
<td>184</td>
<td>170</td>
<td>189</td>
<td>184</td>
<td>124</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="checking-for-missing-values" class="level6">
<h6 data-anchor-id="checking-for-missing-values">Checking for missing values:</h6>
<div id="0fedea6e" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_gf.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1    132
pergunta_2    145
pergunta_3    170
pergunta_4    178
pergunta_5    184
pergunta_6    188
pergunta_7    189
pergunta_8    191
dtype: int64</code></pre>
</div>
</div>
<p>Since we have a lot of NaN values, we decided to remove all rows that have all questions unanswered and then replace the rows that have NaN but not in all questions with the mode of each question.</p>
</section>
<section id="removing-rows-with-null-values" class="level6">
<h6 data-anchor-id="removing-rows-with-null-values">Removing rows with null values:</h6>
<div id="7d27d43e" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contar diretamente as linhas onde todas as colunas são NaN</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>num_linhas_todas_nan <span class="op">=</span> df_gf.isna().<span class="bu">all</span>(axis<span class="op">=</span><span class="dv">1</span>).<span class="bu">sum</span>()</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remover linhas onde todas as colunas são NaN</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df_gf<span class="op">=</span> df_gf.dropna(how<span class="op">=</span><span class="st">'all'</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Verificando valores nulos novamente</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_gf.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1     0
pergunta_2    13
pergunta_3    38
pergunta_4    46
pergunta_5    52
pergunta_6    56
pergunta_7    57
pergunta_8    59
dtype: int64</code></pre>
</div>
</div>
<p>Now let’s analyze the data to find the volume of missing values per question and how the answers are distributed for each question.</p>
</section>
<section id="calculating-the-percentage-of-missing-values-in-each-column" class="level6">
<h6 data-anchor-id="calculating-the-percentage-of-missing-values-in-each-column">Calculating the percentage of missing values in each column:</h6>
<div id="90cbb735" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculando o percentual de valores ausentes em cada coluna</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>percentual_na_perguntas <span class="op">=</span> df_gf.isna().mean() <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Exibindo o percentual de valores ausentes</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(percentual_na_perguntas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1     0.000000
pergunta_2     2.626263
pergunta_3     7.676768
pergunta_4     9.292929
pergunta_5    10.505051
pergunta_6    11.313131
pergunta_7    11.515152
pergunta_8    11.919192
dtype: float64</code></pre>
</div>
</div>
<p>Before cleaning the nan values, let’s look at how the data is distributed.</p>
</section>
<section id="creating-chart-without-null-values" class="level6">
<h6 data-anchor-id="creating-chart-without-null-values">Creating chart without null values:</h6>
<div id="37f82649" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um df sem os valores nan</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df_limpo <span class="op">=</span> df_gf.dropna()</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lista das perguntas</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>perguntas <span class="op">=</span> [<span class="st">'pergunta_1'</span>, <span class="st">'pergunta_2'</span>, <span class="st">'pergunta_3'</span>, <span class="st">'pergunta_4'</span>, </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>             <span class="st">'pergunta_5'</span>, <span class="st">'pergunta_6'</span>, <span class="st">'pergunta_7'</span>, <span class="st">'pergunta_8'</span>]</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Cores do gráfico</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>cores <span class="op">=</span> px.colors.qualitative.Vivid</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando o gráfico com subplots</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> sp.make_subplots(</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span><span class="dv">2</span>, cols<span class="op">=</span><span class="dv">4</span>, </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>perguntas,</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    horizontal_spacing<span class="op">=</span><span class="fl">0.10</span>,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>    vertical_spacing<span class="op">=</span><span class="fl">0.13</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, pergunta <span class="kw">in</span> <span class="bu">enumerate</span>(perguntas):</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    contagem <span class="op">=</span> df_limpo[pergunta].value_counts().sort_index()</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>        go.Bar(</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>contagem.index,</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>contagem.values,</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>cores[:<span class="bu">len</span>(contagem)],</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span>pergunta</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span>(i<span class="op">//</span><span class="dv">4</span>)<span class="op">+</span><span class="dv">1</span>, col<span class="op">=</span>(i<span class="op">%</span><span class="dv">4</span>)<span class="op">+</span><span class="dv">1</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span>,</span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">900</span>,</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">"Frequency of Answers per Question"</span>,</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.98</span>,          </span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,           </span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">28</span>}</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">95</span>, b<span class="op">=</span><span class="dv">60</span>, l<span class="op">=</span><span class="dv">40</span>, r<span class="op">=</span><span class="dv">40</span>),</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.1.0.min"</script>
        
</div>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="a396ecc3-774f-4d5e-af26-0e7ef5d46e99" class="plotly-graph-div" style="height:500px; width:900px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("a396ecc3-774f-4d5e-af26-0e7ef5d46e99")) {                    Plotly.newPlot(                        "a396ecc3-774f-4d5e-af26-0e7ef5d46e99",                        [{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_1","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"mwBiAGcATwA="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_2","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"lwCrAE4AIwA="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_3","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"0ABpAFoAIAA="},"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_4","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"tQCdADkAKAA="},"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_5","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"ngClAEMALQA="},"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_6","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"OgC7AJUAKQA="},"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_7","x":["A","B","C","D"],"y":{"dtype":"i2","bdata":"twBeAHMAKwA="},"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)","rgb(153, 201, 69)"]},"name":"pergunta_8","x":["A","B","C","D"],"y":{"dtype":"i1","bdata":"fHtqUg=="},"type":"bar","xaxis":"x8","yaxis":"y8"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,0.175]},"yaxis":{"anchor":"x","domain":[0.565,1.0]},"xaxis2":{"anchor":"y2","domain":[0.275,0.45]},"yaxis2":{"anchor":"x2","domain":[0.565,1.0]},"xaxis3":{"anchor":"y3","domain":[0.55,0.7250000000000001]},"yaxis3":{"anchor":"x3","domain":[0.565,1.0]},"xaxis4":{"anchor":"y4","domain":[0.825,1.0]},"yaxis4":{"anchor":"x4","domain":[0.565,1.0]},"xaxis5":{"anchor":"y5","domain":[0.0,0.175]},"yaxis5":{"anchor":"x5","domain":[0.0,0.435]},"xaxis6":{"anchor":"y6","domain":[0.275,0.45]},"yaxis6":{"anchor":"x6","domain":[0.0,0.435]},"xaxis7":{"anchor":"y7","domain":[0.55,0.7250000000000001]},"yaxis7":{"anchor":"x7","domain":[0.0,0.435]},"xaxis8":{"anchor":"y8","domain":[0.825,1.0]},"yaxis8":{"anchor":"x8","domain":[0.0,0.435]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"pergunta_1","x":0.0875,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_2","x":0.36250000000000004,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_3","x":0.6375000000000001,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_4","x":0.9125,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_5","x":0.0875,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_6","x":0.36250000000000004,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_7","x":0.6375000000000001,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"pergunta_8","x":0.9125,"xanchor":"center","xref":"paper","y":0.435,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":28},"text":"Frequency of Answers per Question","y":0.98,"x":0.5,"xanchor":"center","yanchor":"top"},"margin":{"t":95,"b":60,"l":40,"r":40},"height":500,"width":900,"showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a396ecc3-774f-4d5e-af26-0e7ef5d46e99');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<p>Since we currently have a low percentage of null values in the dataset, we will replace the null values with the Mode of each question.</p>
</section>
<section id="imputing-null-values-with-the-mode-of-each-column" class="level6">
<h6 data-anchor-id="imputing-null-values-with-the-mode-of-each-column">Imputing null values with the mode of each column:</h6>
<div id="0aed7899" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> df_gf.columns:</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> col.startswith(<span class="st">'pergunta'</span>):</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        moda <span class="op">=</span> df_gf[col].mode()[<span class="dv">0</span>]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        df_gf[col].fillna(moda, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="checking-for-null-values-again" class="level6">
<h6 data-anchor-id="checking-for-null-values-again">Checking for null values again:</h6>
<div id="f2de9dd5" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_gf.isnull().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>pergunta_1    0
pergunta_2    0
pergunta_3    0
pergunta_4    0
pergunta_5    0
pergunta_6    0
pergunta_7    0
pergunta_8    0
dtype: int64</code></pre>
</div>
</div>
<p>Let’s create a data dictionary in case it’s necessary to consult the questions and alternatives during the analysis.</p>
</section>
<section id="creating-a-dictionary-with-all-questions-and-alternatives" class="level6">
<h6 data-anchor-id="creating-a-dictionary-with-all-questions-and-alternatives">Creating a dictionary with all questions and alternatives:</h6>
<div id="88b2c74a" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict <span class="op">=</span> {</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_1"</span>: {</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Nível de clareza sobre o casamento dos sonhos: Como vocês descreveriam o nível de clareza que têm sobre o casamento que desejam?"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Ainda estamos completamente perdidos sobre tudo"</span>,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Temos algumas referências, mas nada decidido"</span>,</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Já temos o estilo em mente, mas falta planejar"</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Sabemos exatamente o que queremos e já começamos a organizar"</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_2"</span>: {</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Situação financeira atual: Como você descreveria a situação financeira atual de vocês dois?"</span>,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Vivemos no limite e temos dívidas"</span>,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Conseguimos nos manter, mas não sobra"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Temos folga, mas ainda não vivemos como gostaríamos"</span>,</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Estamos bem financeiramente, mas queremos crescer mais"</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_3"</span>: {</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Apoio mútuo e envolvimento no sonho de casamento: Como está o envolvimento do seu parceiro(a) na realização do casamento dos sonhos?"</span>,</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Está completamente envolvido(a), sonha junto comigo"</span>,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Está envolvido(a), mas prefere que eu lidere"</span>,</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Me apoia, mas não se envolve muito com o planejamento"</span>,</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Prefere que eu resolva tudo sozinho(a)"</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_4"</span>: {</span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Nível de organização do planejamento: Como vocês estão se organizando para planejar o casamento?"</span>,</span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Não começamos ainda"</span>,</span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Temos anotações e ideias soltas"</span>,</span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Criamos um planejamento inicial, mas ainda sem orçamento"</span>,</span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Temos planilhas, metas e até cronograma definido"</span></span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_5"</span>: {</span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Possibilidade de investimento atual no casamento: Se fossem realizar o casamento ideal hoje, como pagariam?"</span>,</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Não conseguiríamos bancar nada ainda"</span>,</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Conseguiríamos fazer algo simples"</span>,</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Teríamos que parcelar bastante ou contar com ajuda"</span>,</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Poderíamos arcar com boa parte, mas queremos mais liberdade"</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_6"</span>: {</span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Estilo de casamento desejado: Qual o estilo de casamento dos seus sonhos?"</span>,</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Ainda não pensamos nisso"</span>,</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Algo íntimo e simples, só com pessoas próximas"</span>,</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Uma cerimônia encantadora, com tudo bem feito"</span>,</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Um evento inesquecível, com tudo que temos direito"</span></span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_7"</span>: {</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Planejamento da lua de mel: Vocês já pensaram na lua de mel?"</span>,</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Nem pensamos nisso ainda"</span>,</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Pensamos, mas parece fora da nossa realidade"</span>,</span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Temos destinos em mente, mas sem orçamento ainda"</span>,</span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Já sabemos onde queremos ir e estamos nos planejando"</span></span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">"pergunta_8"</span>: {</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>        <span class="st">"texto"</span>: <span class="st">"Comprometimento em tornar esse sonho realidade: O quanto vocês estão comprometidos em transformar esse sonho em realidade?"</span>,</span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alternativas"</span>: {</span>
<span id="cb22-68"><a href="#cb22-68" aria-hidden="true" tabindex="-1"></a>            <span class="st">"A"</span>: <span class="st">"Desejamos, mas nos falta tempo e direção"</span>,</span>
<span id="cb22-69"><a href="#cb22-69" aria-hidden="true" tabindex="-1"></a>            <span class="st">"B"</span>: <span class="st">"Queremos muito, mas temos medo de não dar conta"</span>,</span>
<span id="cb22-70"><a href="#cb22-70" aria-hidden="true" tabindex="-1"></a>            <span class="st">"C"</span>: <span class="st">"Estamos dispostos, só falta um plano eficaz"</span>,</span>
<span id="cb22-71"><a href="#cb22-71" aria-hidden="true" tabindex="-1"></a>            <span class="st">"D"</span>: <span class="st">"Estamos prontos, queremos agir e realizar de verdade"</span></span>
<span id="cb22-72"><a href="#cb22-72" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb22-73"><a href="#cb22-73" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-74"><a href="#cb22-74" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="model-building-and-validation" class="level2">
<h2 data-anchor-id="model-building-and-validation">3. Model Building and Validation</h2>
<p>The KMeans algorithm uses the Euclidean distance between points to form clusters. Euclidean distance is a measure of how far apart two points are in Euclidean space. Correlation can have a significant impact on clustering models like KMeans, as KMeans uses Euclidean distance between points to form clusters. Highly correlated variables can disproportionately influence the distances between points, leading to possible distortions in the formed clusters.</p>
<p>We need to consider multicollinearity (if two variables are highly correlated), the scale of variables (since KMeans is sensitive to scale), and dimensionality reduction (to speed up the grouping process when there are a large number of variables).</p>
<p>Therefore, before applying KMeans, let’s first analyze the correlation of categorical data. We will use Cramér’s V, which is a measure of association between two categorical variables, measuring how associated two nominal variables are.</p>
<section id="calculating-cramers-v-matrix-and-performing-the-analysis" class="level3">
<h3 data-anchor-id="calculating-cramers-v-matrix-and-performing-the-analysis">Calculating Cramer’s V Matrix and performing the analysis:</h3>
<div id="148cb86b" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Função para calcular Cramer's V</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cramers_v(x, y):</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    confusion_matrix <span class="op">=</span> pd.crosstab(x, y)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    chi2 <span class="op">=</span> chi2_contingency(confusion_matrix, correction<span class="op">=</span><span class="va">False</span>)[<span class="dv">0</span>]</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> confusion_matrix.<span class="bu">sum</span>().<span class="bu">sum</span>()</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    phi2 <span class="op">=</span> chi2 <span class="op">/</span> n</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    r, k <span class="op">=</span> confusion_matrix.shape</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    phi2corr <span class="op">=</span> <span class="bu">max</span>(<span class="dv">0</span>, phi2 <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>(r<span class="op">-</span><span class="dv">1</span>)) <span class="op">/</span> (n<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    rcorr <span class="op">=</span> r <span class="op">-</span> ((r<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span>) <span class="op">/</span> (n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    kcorr <span class="op">=</span> k <span class="op">-</span> ((k<span class="op">-</span><span class="dv">1</span>)<span class="op">**</span><span class="dv">2</span>) <span class="op">/</span> (n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.sqrt(phi2corr <span class="op">/</span> <span class="bu">min</span>((kcorr<span class="op">-</span><span class="dv">1</span>), (rcorr<span class="op">-</span><span class="dv">1</span>)))</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando matriz </span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df_gf</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>categorical_columns <span class="op">=</span> df.columns</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Criar uma matriz vazia</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>cramers_results <span class="op">=</span> pd.DataFrame(np.zeros((<span class="bu">len</span>(categorical_columns), <span class="bu">len</span>(categorical_columns))),</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>                               index<span class="op">=</span>categorical_columns,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                               columns<span class="op">=</span>categorical_columns)</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Preencher a matriz</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> col1 <span class="kw">in</span> categorical_columns:</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col2 <span class="kw">in</span> categorical_columns:</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>        cramers_results.loc[col1, col2] <span class="op">=</span> cramers_v(df[col1], df[col2])</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Imprimindo a mtriz</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>cramers_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="183">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1</th>
<th data-quarto-table-cell-role="th">pergunta_2</th>
<th data-quarto-table-cell-role="th">pergunta_3</th>
<th data-quarto-table-cell-role="th">pergunta_4</th>
<th data-quarto-table-cell-role="th">pergunta_5</th>
<th data-quarto-table-cell-role="th">pergunta_6</th>
<th data-quarto-table-cell-role="th">pergunta_7</th>
<th data-quarto-table-cell-role="th">pergunta_8</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_1</td>
<td>1.000000</td>
<td>0.154443</td>
<td>0.000000</td>
<td>0.353861</td>
<td>0.193979</td>
<td>0.174872</td>
<td>0.150004</td>
<td>0.261624</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_2</td>
<td>0.154443</td>
<td>1.000000</td>
<td>0.080247</td>
<td>0.217220</td>
<td>0.319514</td>
<td>0.159740</td>
<td>0.196799</td>
<td>0.175146</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_3</td>
<td>0.000000</td>
<td>0.080247</td>
<td>1.000000</td>
<td>0.104207</td>
<td>0.099763</td>
<td>0.079644</td>
<td>0.102016</td>
<td>0.105724</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_4</td>
<td>0.353861</td>
<td>0.217220</td>
<td>0.104207</td>
<td>1.000000</td>
<td>0.255274</td>
<td>0.215382</td>
<td>0.264954</td>
<td>0.324603</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_5</td>
<td>0.193979</td>
<td>0.319514</td>
<td>0.099763</td>
<td>0.255274</td>
<td>1.000000</td>
<td>0.286524</td>
<td>0.228514</td>
<td>0.235780</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_6</td>
<td>0.174872</td>
<td>0.159740</td>
<td>0.079644</td>
<td>0.215382</td>
<td>0.286524</td>
<td>1.000000</td>
<td>0.195961</td>
<td>0.227248</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">pergunta_7</td>
<td>0.150004</td>
<td>0.196799</td>
<td>0.102016</td>
<td>0.264954</td>
<td>0.228514</td>
<td>0.195961</td>
<td>1.000000</td>
<td>0.305950</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">pergunta_8</td>
<td>0.261624</td>
<td>0.175146</td>
<td>0.105724</td>
<td>0.324603</td>
<td>0.235780</td>
<td>0.227248</td>
<td>0.305950</td>
<td>1.000000</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
</section>
<section id="visualizing-the-correlation-matrix" class="level1">
<h1>Visualizing the correlation matrix:</h1>
<div id="6718fe01" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>,<span class="dv">8</span>))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>sns.heatmap(cramers_results, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>, vmin<span class="op">=</span><span class="dv">0</span>, vmax<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Cramér's V - Correlation between categorical variables"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="AnaliseMarketingCasalProspero_files/figure-html/cell-21-output-1.png" width="797" height="717" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We do not have highly correlated variables, but let’s analyze the three largest correlations to assess the consistency of this dataset.</p>
<section id="evaluating-the-three-largest-correlations" class="level6">
<h6 data-anchor-id="evaluating-the-three-largest-correlations">Evaluating the three largest correlations:</h6>
<div id="0579910e" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformar a matriz em long format (par variável - valor de correlação)</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>corr_pairs <span class="op">=</span> (</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    cramers_results.where(np.triu(np.ones(cramers_results.shape), k<span class="op">=</span><span class="dv">1</span>).astype(<span class="bu">bool</span>))  <span class="co"># pegar só triângulo superior (evita repetição)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    .stack()  <span class="co"># transformar em Series com MultiIndex</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>corr_pairs.columns <span class="op">=</span> [<span class="st">'1'</span>, <span class="st">'2'</span>, <span class="st">'Cramers_V'</span>]</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Ordenar pelas maiores correlações</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>top_corr <span class="op">=</span> corr_pairs.sort_values(by<span class="op">=</span><span class="st">'Cramers_V'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">3</span>)</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_corr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>             1           2  Cramers_V
2   pergunta_1  pergunta_4   0.353861
21  pergunta_4  pergunta_8   0.324603
9   pergunta_2  pergunta_5   0.319514</code></pre>
</div>
</div>
</section>
<section id="analyzing-correlation-between-questions-1-and-4" class="level6">
<h6 data-anchor-id="analyzing-correlation-between-questions-1-and-4">Analyzing correlation between questions 1 and 4:</h6>
<div id="99a1039b" class="cell" data-execution_count="22">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict[<span class="st">"pergunta_1"</span>][<span class="st">"texto"</span>], perguntas_dict[<span class="st">"pergunta_4"</span>][<span class="st">"texto"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="186">
<pre><code>('Nível de clareza sobre o casamento dos sonhos: Como vocês descreveriam o nível de clareza que têm sobre o casamento que desejam?',
 'Nível de organização do planejamento: Como vocês estão se organizando para planejar o casamento?')</code></pre>
</div>
</div>
<p>This correlation makes sense because those who have clarity about the wedding they desire tend to be more organized regarding the planning.</p>
</section>
<section id="analyzing-correlation-between-questions-4-and-8" class="level6">
<h6 data-anchor-id="analyzing-correlation-between-questions-4-and-8">Analyzing correlation between questions 4 and 8:</h6>
<div id="b5f7a446" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict[<span class="st">"pergunta_4"</span>][<span class="st">"texto"</span>], perguntas_dict[<span class="st">"pergunta_8"</span>][<span class="st">"texto"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="187">
<pre><code>('Nível de organização do planejamento: Como vocês estão se organizando para planejar o casamento?',
 'Comprometimento em tornar esse sonho realidade: O quanto vocês estão comprometidos em transformar esse sonho em realidade?')</code></pre>
</div>
</div>
<p>This correlation also makes sense because those who are more organized will be more committed to making the wedding happen.</p>
</section>
<section id="analyzing-correlation-between-questions-2-and-5" class="level6">
<h6 data-anchor-id="analyzing-correlation-between-questions-2-and-5">Analyzing correlation between questions 2 and 5:</h6>
<div id="2eb71d10" class="cell" data-execution_count="24">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>perguntas_dict[<span class="st">"pergunta_2"</span>][<span class="st">"texto"</span>], perguntas_dict[<span class="st">"pergunta_5"</span>][<span class="st">"texto"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="188">
<pre><code>('Situação financeira atual: Como você descreveria a situação financeira atual de vocês dois?',
 'Possibilidade de investimento atual no casamento: Se fossem realizar o casamento ideal hoje, como pagariam?')</code></pre>
</div>
</div>
<p>These questions also have a justifiable correlation, as the couple’s financial situation will directly impact the possibility of current investment in the wedding</p>
<p><strong>Conclusion</strong></p>
<ul>
<li>There are no very strong relationships between the questions, which is expected in well-designed questionnaires where questions measure distinct, albeit related, aspects (no high risk of multicollinearity).</li>
<li>The highest correlations are classified as moderate or weak, indicating that each question captures different aspects of the leads’ profile or situation.</li>
</ul>
<p>We will still apply PCA for dimensionality reduction, but it is not mandatory due to multicollinearity between variables, but rather because we are interested in reducing computational complexity and improving the efficiency of KNN in high-dimensional spaces.</p>
</section>
<section id="one-hot-encoding-application" class="level3">
<h3 data-anchor-id="one-hot-encoding-application">One-Hot-Encoding Application</h3>
<p>Since we have many features and need to feed the algorithm with numerical variables, we will apply OHE with the drop_first=True parameter. OHE transforms categorical variables into a binary numerical format, essential for algorithms that do not natively handle categories, as is the case with KMeans.</p>
<section id="applying-one-hot-encoding-with-drop_firsttrue" class="level6">
<h6 data-anchor-id="applying-one-hot-encoding-with-drop_firsttrue">Applying One-Hot Encoding with drop_first=True:</h6>
<div id="1709304b" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Instanciando o codificador</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>ohe <span class="op">=</span> OneHotEncoder(drop<span class="op">=</span><span class="st">'first'</span>, sparse<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustando e transformando os dados</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>ohe_array <span class="op">=</span> ohe.fit_transform(df_gf)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Pegando os nomes das colunas geradas pelo OHE</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>ohe_columns <span class="op">=</span> ohe.get_feature_names_out(df_gf.columns)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando um novo DataFrame com os dados codificados</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>df_gf_ohe <span class="op">=</span> pd.DataFrame(ohe_array, columns<span class="op">=</span>ohe_columns, index<span class="op">=</span>df_gf.index)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizando amostra aleatória de 10 linhas</span></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>df_gf_ohe.sample(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="189">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">pergunta_1_B</th>
<th data-quarto-table-cell-role="th">pergunta_1_C</th>
<th data-quarto-table-cell-role="th">pergunta_1_D</th>
<th data-quarto-table-cell-role="th">pergunta_2_B</th>
<th data-quarto-table-cell-role="th">pergunta_2_C</th>
<th data-quarto-table-cell-role="th">pergunta_2_D</th>
<th data-quarto-table-cell-role="th">pergunta_3_B</th>
<th data-quarto-table-cell-role="th">pergunta_3_C</th>
<th data-quarto-table-cell-role="th">pergunta_3_D</th>
<th data-quarto-table-cell-role="th">pergunta_4_B</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">pergunta_5_D</th>
<th data-quarto-table-cell-role="th">pergunta_6_B</th>
<th data-quarto-table-cell-role="th">pergunta_6_C</th>
<th data-quarto-table-cell-role="th">pergunta_6_D</th>
<th data-quarto-table-cell-role="th">pergunta_7_B</th>
<th data-quarto-table-cell-role="th">pergunta_7_C</th>
<th data-quarto-table-cell-role="th">pergunta_7_D</th>
<th data-quarto-table-cell-role="th">pergunta_8_B</th>
<th data-quarto-table-cell-role="th">pergunta_8_C</th>
<th data-quarto-table-cell-role="th">pergunta_8_D</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">606</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">222</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">160</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">287</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">393</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">566</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">602</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">593</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">227</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>...</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">463</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>...</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.0</td>
<td>0.0</td>
</tr>
</tbody>
</table>

<p>10 rows × 24 columns</p>
</div>
</div>
</div>
<p>We can see the use of the drop=‘first’ parameter, which removes the first category of each variable to reduce dimensionality; we have 24 features instead of 32.</p>
</section>
</section>
<section id="pca-application" class="level3">
<h3 data-anchor-id="pca-application">PCA Application</h3>
<p>Principal Component Analysis (PCA) is a statistical dimensionality reduction technique that transforms a set of possibly correlated variables into a new set of uncorrelated variables, called principal components.</p>
<p>The objective for our project is to capture the maximum variability of the data in the first components and facilitate visualization, clustering, classification, and reduce noise. OHE significantly increases dimensionality (in this project’s case, from 8 questions to 24 variables after drop_first=True).</p>
<section id="applying-pca" class="level6">
<h6 data-anchor-id="applying-pca">Applying PCA</h6>
<div id="bd578460" class="cell" data-execution_count="26">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Padronizando os dados</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>df_scaled <span class="op">=</span> scaler.fit_transform(df_gf_ohe)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Instanciando o PCA</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>pca <span class="op">=</span> PCA()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustando o PCA aos dados</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>pca.fit(df_scaled)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Gerando os componentes principais</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>df_pca <span class="op">=</span> pca.transform(df_scaled)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertendo em DataFrame para visualização</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>df_pca <span class="op">=</span> pd.DataFrame(df_pca, columns<span class="op">=</span>[<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">'</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(df_pca.shape[<span class="dv">1</span>])])</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizando as 5 primeiras linhas</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_pca.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        PC1       PC2       PC3       PC4       PC5       PC6       PC7  \
0  0.894431  2.735178 -0.826413  3.137230 -0.409440  0.161323 -0.650989   
1  2.981389 -1.378394  0.998942 -1.971190  0.027095 -1.719077 -1.687937   
2 -1.231628 -0.908463 -0.152123 -0.419888  0.238578  0.347453 -0.037611   
3 -1.217156 -0.110358 -1.339276 -0.422707 -0.274758  0.304763 -1.688694   
4 -1.842543 -1.716992 -1.497125  0.169806 -0.275240 -0.392597  0.011479   

        PC8       PC9      PC10  ...      PC15      PC16      PC17      PC18  \
0 -0.982705 -0.015318 -2.118046  ... -1.322269 -1.216456  0.611138 -1.027353   
1  1.375810  0.359631  1.131436  ... -1.148633  1.284379  2.483504  0.253910   
2  0.819806 -0.162855 -0.752639  ...  1.033716 -0.966877  0.895287 -0.054726   
3 -1.809124  0.729512  0.755415  ... -0.506001  0.649595 -1.187464 -0.104447   
4 -0.020066 -0.155247  0.608450  ...  0.350160  0.626633  0.647278  1.009298   

       PC19      PC20      PC21      PC22      PC23      PC24  
0 -0.089755  1.457162 -0.171782 -0.607896  0.618231 -0.156277  
1 -1.530543 -1.048446  0.320573 -0.063387  2.119997 -0.119219  
2 -0.394803 -0.066319  1.049833 -0.495020  0.547988 -0.459000  
3  0.070163 -0.923953 -1.024069  0.028527 -0.228793  1.166666  
4  0.507244  1.303698 -0.514279 -0.323762 -0.036504 -0.127500  

[5 rows x 24 columns]</code></pre>
</div>
</div>
<p>The result of the principal component analysis aims to provide a basis for us to decide how many variables we will use and how much total variance we can explain in this dataset. Therefore, we should choose between 01 to 24 PCs and make a decision based on “how much we want to explain from this data,” i.e., the minimum components needed to have maximum interpretability.</p>
</section>
<section id="scree-plot---explained-variance-by-pca" class="level6">
<h6 data-anchor-id="scree-plot---explained-variance-by-pca">Scree Plot - Explained Variance by PCA:</h6>
<div id="087650c9" class="cell" data-execution_count="27">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dados da variância explicada</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>variancia_acumulada <span class="op">=</span> np.cumsum(pca.explained_variance_ratio_)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Criando a figura</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="bu">len</span>(variancia_acumulada) <span class="op">+</span> <span class="dv">1</span>)),</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>variancia_acumulada,</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(dash<span class="op">=</span><span class="st">'dash'</span>, width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span>, color<span class="op">=</span><span class="st">'blue'</span>),</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Accumulated Variance'</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Scree Plot - Explained Variance by PCA'</span>,</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Number of Components'</span>,</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Accumulated Explained Variance'</span>,</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="e4c5aaa6-d796-4488-b201-1e458ae04c42" class="plotly-graph-div" style="height:500px; width:800px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e4c5aaa6-d796-4488-b201-1e458ae04c42")) {                    Plotly.newPlot(                        "e4c5aaa6-d796-4488-b201-1e458ae04c42",                        [{"line":{"dash":"dash","width":2},"marker":{"color":"blue","size":8},"mode":"lines+markers","name":"Accumulated Variance","x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"y":{"dtype":"f8","bdata":"kzs56s+cwT+qX\u002fFEpiPNP80P1Vc\u002fZ9M\u002fYlxuCdRT1z9SqHarcv\u002faP\u002fxINp35bd4\u002fMTHWZe\u002fb4D\u002f880wRZG3iP7\u002fkm52p5+M\u002fQv01y29U5T\u002frfC06XqPmP00W65NA5Oc\u002f8V3kAzAG6T8AnW0J8B\u002fqPyCNwRBMGus\u002f59J\u002fdH8E7D95n+Wdl+bsP0MWq1X2ou0\u002f4O2lJrg+7j9GHFj3Q7nuP3S530WpG+8\u002fMxz7uWF37z\u002fLLrqhT87vP\u002f3\u002f\u002f\u002f\u002f\u002f\u002f+8\u002f"},"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"Scree Plot - Explained Variance by PCA"},"xaxis":{"title":{"text":"Number of Components"}},"yaxis":{"title":{"text":"Accumulated Explained Variance"}},"width":800,"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e4c5aaa6-d796-4488-b201-1e458ae04c42');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="visualizing-the-explained-variance-by-each-component" class="level6">
<h6 data-anchor-id="visualizing-the-explained-variance-by-each-component">Visualizing the explained variance by each component:</h6>
<div id="6cf5d9f8" class="cell" data-execution_count="28">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, var <span class="kw">in</span> <span class="bu">enumerate</span>(pca.explained_variance_ratio_):</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>var<span class="sc">:.4f}</span><span class="ss"> (</span><span class="sc">{</span>np<span class="sc">.</span>cumsum(pca.explained_variance_ratio_)[i]<span class="sc">:.4f}</span><span class="ss"> accumulated)'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>PC1: 0.1376 (0.1376 accumulated)
PC2: 0.0901 (0.2277 accumulated)
PC3: 0.0755 (0.3032 accumulated)
PC4: 0.0613 (0.3645 accumulated)
PC5: 0.0573 (0.4218 accumulated)
PC6: 0.0536 (0.4755 accumulated)
PC7: 0.0514 (0.5268 accumulated)
PC8: 0.0490 (0.5759 accumulated)
PC9: 0.0462 (0.6220 accumulated)
PC10: 0.0445 (0.6666 accumulated)
PC11: 0.0409 (0.7074 accumulated)
PC12: 0.0392 (0.7466 accumulated)
PC13: 0.0354 (0.7820 accumulated)
PC14: 0.0344 (0.8164 accumulated)
PC15: 0.0306 (0.8470 accumulated)
PC16: 0.0286 (0.8755 accumulated)
PC17: 0.0276 (0.9031 accumulated)
PC18: 0.0230 (0.9261 accumulated)
PC19: 0.0190 (0.9452 accumulated)
PC20: 0.0150 (0.9601 accumulated)
PC21: 0.0120 (0.9721 accumulated)
PC22: 0.0112 (0.9833 accumulated)
PC23: 0.0106 (0.9939 accumulated)
PC24: 0.0061 (1.0000 accumulated)</code></pre>
</div>
</div>
<p>We chose to use 17 principal components, which preserve 90.31% of the total variance of the dataset, ensuring a balance between data simplification and information maintenance. This value was determined based on the analysis of the scree plot and the accumulated variance distribution, which shows the absence of a clear elbow, characteristic of categorical data. This strategy allows for faster processing, improved model performance, and maintained analytical robustness.</p>
</section>
</section>
<section id="defining-the-value-of-k-in-clustering-models" class="level3">
<h3 data-anchor-id="defining-the-value-of-k-in-clustering-models">Defining the Value of K in Clustering Models</h3>
<p>The KMeans algorithm is a data clustering technique that organizes a set of points into groups (or “clusters”) based on their similarities. Choosing the appropriate value of k is an important step in the project, as it can significantly affect the usefulness of the formed clusters. To do this, we will use the Elbow Method and the Silhouette Score to help define an optimal value for k.</p>
<p><strong>Defining the ideal value of K</strong></p>
<section id="generating-dataset-with-17-principal-components" class="level6">
<h6 data-anchor-id="generating-dataset-with-17-principal-components">Generating Dataset with 17 principal components::</h6>
<div id="4f1978b6" class="cell" data-execution_count="29">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>pca <span class="op">=</span> PCA(n_components<span class="op">=</span><span class="dv">17</span>)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>df_pca <span class="op">=</span> pca.fit_transform(df_gf_ohe)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="elbow-method" class="level6">
<h6 data-anchor-id="elbow-method">Elbow Method:</h6>
<div id="d766c823" class="cell" data-execution_count="30">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>inertia <span class="op">=</span> []</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>K_range <span class="op">=</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> K_range:</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    kmeans <span class="op">=</span> KMeans(n_clusters<span class="op">=</span>k, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    kmeans.fit(df_pca)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    inertia.append(kmeans.inertia_)</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot do Elbow</span></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="bu">list</span>(K_range),</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>inertia,</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span>, color<span class="op">=</span><span class="st">'blue'</span>),</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Inertia'</span></span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Elbow Method'</span>,</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Number of Clusters (K)'</span>,</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Inertia'</span>,</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span></span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="7ab9aa31-3f15-4bfe-94bb-d32b26447136" class="plotly-graph-div" style="height:500px; width:800px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("7ab9aa31-3f15-4bfe-94bb-d32b26447136")) {                    Plotly.newPlot(                        "7ab9aa31-3f15-4bfe-94bb-d32b26447136",                        [{"line":{"width":2},"marker":{"color":"blue","size":8},"mode":"lines+markers","name":"Inertia","x":[1,2,3,4,5,6,7,8,9,10],"y":[1673.6667930380645,1478.8961527795857,1375.2032088479555,1292.4191442086692,1237.170901883797,1192.423458903025,1149.003123298292,1112.724969638827,1085.002753510032,1057.190294458451],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"Elbow Method"},"xaxis":{"title":{"text":"Number of Clusters (K)"}},"yaxis":{"title":{"text":"Inertia"}},"width":800,"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('7ab9aa31-3f15-4bfe-94bb-d32b26447136');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<p>Interpretation: evaluates the sum of squared distances within clusters (Sum of Squared Errors - SSE) as a function of different k values. As k increases, the error decreases, as the clusters become smaller and more specific. In the SSE vs.&nbsp;k graph, we look for the point where there is a “break” or “bend” (an elbow). This point indicates that increasing k beyond it brings marginal gains in error reduction, signaling the optimal number of clusters.</p>
<p>We can see where the curve forms an elbow between values 2 and 3, with k=2 being slightly more accentuated in its curvature, suggesting the best value for K, but it’s not very distinct for k=3.</p>
</section>
<section id="silhouette-index" class="level6">
<h6 data-anchor-id="silhouette-index">Silhouette Index:</h6>
<div id="ee9ab828" class="cell" data-execution_count="31">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>silhouette_scores <span class="op">=</span> []</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>K_range_sil <span class="op">=</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">11</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k <span class="kw">in</span> K_range_sil:</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    kmeans <span class="op">=</span> KMeans(n_clusters<span class="op">=</span>k, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    labels <span class="op">=</span> kmeans.fit_predict(df_pca)</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    score <span class="op">=</span> silhouette_score(df_pca, labels)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    silhouette_scores.append(score)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>fig_silhouette <span class="op">=</span> go.Figure()</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>fig_silhouette.add_trace(</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="bu">list</span>(K_range_sil),</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>silhouette_scores,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines+markers'</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">8</span>,</span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'blue'</span>,</span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>            symbol<span class="op">=</span><span class="st">'circle'</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>        line<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span><span class="st">'blue'</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Silhouette Score'</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>fig_silhouette.update_layout(</span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'Silhouette Index Analysis'</span>,</span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">'Number of Clusters (K)'</span>,</span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Silhouette Score'</span>,</span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">800</span>,</span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">500</span></span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>fig_silhouette.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="4392de68-0a57-40c2-a8c5-b8e0a9f74b50" class="plotly-graph-div" style="height:500px; width:800px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("4392de68-0a57-40c2-a8c5-b8e0a9f74b50")) {                    Plotly.newPlot(                        "4392de68-0a57-40c2-a8c5-b8e0a9f74b50",                        [{"line":{"color":"blue","width":2},"marker":{"color":"blue","size":8,"symbol":"circle"},"mode":"lines+markers","name":"Silhouette Score","x":[2,3,4,5,6,7,8,9,10],"y":[0.11988114338535223,0.12394148922394936,0.10173505078379898,0.0961344356611015,0.10226297238729282,0.1044342980158682,0.09393340196500537,0.10938429847053832,0.10230675358450549],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"title":{"text":"Silhouette Index Analysis"},"xaxis":{"title":{"text":"Number of Clusters (K)"}},"yaxis":{"title":{"text":"Silhouette Score"}},"width":800,"height":500},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('4392de68-0a57-40c2-a8c5-b8e0a9f74b50');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="checking-silhouette-values" class="level6">
<h6 data-anchor-id="checking-silhouette-values">Checking silhouette values:</h6>
<div id="b65bfde9" class="cell" data-execution_count="32">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> k, score <span class="kw">in</span> <span class="bu">zip</span>(K_range_sil, silhouette_scores):</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"K=</span><span class="sc">{</span>k<span class="sc">}</span><span class="ss">: Silhouette Score=</span><span class="sc">{</span>score<span class="sc">:.4f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>K=2: Silhouette Score=0.1199
K=3: Silhouette Score=0.1239
K=4: Silhouette Score=0.1017
K=5: Silhouette Score=0.0961
K=6: Silhouette Score=0.1023
K=7: Silhouette Score=0.1044
K=8: Silhouette Score=0.0939
K=9: Silhouette Score=0.1094
K=10: Silhouette Score=0.1023</code></pre>
</div>
</div>
<p>Interpretation: The values measure the quality of clusters by calculating how similar a point is to its own cluster compared to other clusters. The value ranges between -1 (poor grouping) and 1 (optimal grouping). Here we can visualize the best value for k=3, but very close for k=2.</p>
</section>
</section>
<section id="results-and-decision" class="level3">
<h3 data-anchor-id="results-and-decision">Results and Decision</h3>
<p><strong>Elbow Method - K = 2</strong> The elbow shows where the reduction in inertia begins to stabilize.</p>
<p>Practical interpretation: The data may have two macro structures, meaning a coarser division.</p>
<p><strong>Silhouette - Best at K = 3</strong> The highest silhouette value (0.1239) occurs with K=3.</p>
<p>We will use k=2 and k=3 and analyze which algorithm best suits our project.</p>
<section id="applying-kmeans-algorithm-for-k2-and-k3" class="level6">
<h6 data-anchor-id="applying-kmeans-algorithm-for-k2-and-k3">Applying KMeans Algorithm for K=2 and K=3:</h6>
<div id="63b3cd5e" class="cell" data-execution_count="33">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar KMeans para k=2</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>kmeans_k2 <span class="op">=</span> KMeans(n_clusters<span class="op">=</span><span class="dv">2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>clusters_k2 <span class="op">=</span> kmeans_k2.fit_predict(df_pca)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co"># DataFrame com clusters K=2</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>df_clusters_k2 <span class="op">=</span> pd.DataFrame(df_pca, columns<span class="op">=</span>[<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">'</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(df_pca.shape[<span class="dv">1</span>])])</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>df_clusters_k2[<span class="st">'Cluster'</span>] <span class="op">=</span> clusters_k2</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar KMeans para K=3</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>kmeans_k3 <span class="op">=</span> KMeans(n_clusters<span class="op">=</span><span class="dv">3</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>clusters_k3 <span class="op">=</span> kmeans_k3.fit_predict(df_pca)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># DataFrame com clusters K=3</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>df_clusters_k3 <span class="op">=</span> pd.DataFrame(df_pca, columns<span class="op">=</span>[<span class="ss">f'PC</span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">'</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(df_pca.shape[<span class="dv">1</span>])])</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>df_clusters_k3[<span class="st">'Cluster'</span>] <span class="op">=</span> clusters_k3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="quantitative-evaluation-of-the-two-models-silhouette-score" class="level6">
<h6 data-anchor-id="quantitative-evaluation-of-the-two-models-silhouette-score">Quantitative Evaluation of the two models – Silhouette Score:</h6>
<div id="bb3e9e4e" class="cell" data-execution_count="34">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>silhouette_k2 <span class="op">=</span> silhouette_score(df_pca, clusters_k2)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>silhouette_k3 <span class="op">=</span> silhouette_score(df_pca, clusters_k3)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Silhouette Score K=2: </span><span class="sc">{</span>silhouette_k2<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Silhouette Score K=3: </span><span class="sc">{</span>silhouette_k3<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Silhouette Score K=2: 0.11988114338535223
Silhouette Score K=3: 0.12394148922394936</code></pre>
</div>
</div>
</section>
<section id="cluster-distribution" class="level6">
<h6 data-anchor-id="cluster-distribution">Cluster Distribution:</h6>
<div id="1fd62f3c" class="cell" data-execution_count="35">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Distribuição dos Clusters</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Cluster Distribution - K=2"</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.Series(clusters_k2).value_counts())</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Cluster Distribution - K=3"</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pd.Series(clusters_k3).value_counts())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Cluster Distribution - K=2
1    252
0    243
Name: count, dtype: int64

Cluster Distribution - K=3
1    234
0    206
2     55
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="comparison-between-k2-and-k3" class="level6">
<h6 data-anchor-id="comparison-between-k2-and-k3">Comparison between K=2 and K=3:</h6>
<div id="8b89c362" class="cell" data-execution_count="36">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(rows<span class="op">=</span><span class="dv">1</span>, cols<span class="op">=</span><span class="dv">2</span>, subplot_titles<span class="op">=</span>(<span class="st">'Clusters with K=2'</span>, <span class="st">'Clusters with K=3'</span>))</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Cores para K=2</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>unique_clusters_k2 <span class="op">=</span> <span class="bu">sorted</span>(df_clusters_k2[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="bu">len</span>(unique_clusters_k2) <span class="op">&gt;</span> <span class="dv">1</span>:</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    colors_k2 <span class="op">=</span> pcolors.sample_colorscale(<span class="st">"Viridis"</span>, np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, <span class="bu">len</span>(unique_clusters_k2)))</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> <span class="bu">len</span>(unique_clusters_k2) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    colors_k2 <span class="op">=</span> [pcolors.sample_colorscale(<span class="st">"Viridis"</span>, <span class="fl">0.5</span>)[<span class="dv">0</span>]]</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>    colors_k2 <span class="op">=</span> []</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, cluster_val <span class="kw">in</span> <span class="bu">enumerate</span>(unique_clusters_k2):</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>    df_subset <span class="op">=</span> df_clusters_k2[df_clusters_k2[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_val]</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df_subset[<span class="st">'PC1'</span>],</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>df_subset[<span class="st">'PC2'</span>],</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>colors_k2[i],</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>            opacity<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">7</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'K=2, Cluster </span><span class="sc">{</span>cluster_val<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>        legendgroup<span class="op">=</span><span class="st">'k2_group'</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>    ), row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Cores fixas para K=3</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>cores_k3 <span class="op">=</span> [<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>]</span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>unique_clusters_k3 <span class="op">=</span> <span class="bu">sorted</span>(df_clusters_k3[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, cluster_val <span class="kw">in</span> <span class="bu">enumerate</span>(unique_clusters_k3):</span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>    df_subset <span class="op">=</span> df_clusters_k3[df_clusters_k3[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_val]</span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>    cor <span class="op">=</span> cores_k3[i <span class="op">%</span> <span class="bu">len</span>(cores_k3)]</span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df_subset[<span class="st">'PC1'</span>],</span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>df_subset[<span class="st">'PC2'</span>],</span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>cor,</span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>            opacity<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">7</span></span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'K=3, Cluster </span><span class="sc">{</span>cluster_val<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>        legendgroup<span class="op">=</span><span class="st">'k3_group'</span></span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>    ), row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Ajustando eixos</span></span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="st">"PC1"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"PC2"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="st">"PC1"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"PC2"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout ajustado</span></span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1100</span>,</span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">550</span>,</span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a>    hovermode<span class="op">=</span><span class="st">'closest'</span>,</span>
<span id="cb49-57"><a href="#cb49-57" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb49-58"><a href="#cb49-58" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb49-59"><a href="#cb49-59" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">"Cluster Distribution in space for K=1 and K=2"</span>,</span>
<span id="cb49-60"><a href="#cb49-60" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.97</span>,</span>
<span id="cb49-61"><a href="#cb49-61" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb49-62"><a href="#cb49-62" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb49-63"><a href="#cb49-63" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb49-64"><a href="#cb49-64" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">25</span>}</span>
<span id="cb49-65"><a href="#cb49-65" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb49-66"><a href="#cb49-66" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">80</span>, b<span class="op">=</span><span class="dv">50</span>, l<span class="op">=</span><span class="dv">40</span>, r<span class="op">=</span><span class="dv">40</span>),</span>
<span id="cb49-67"><a href="#cb49-67" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span></span>
<span id="cb49-68"><a href="#cb49-68" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-69"><a href="#cb49-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-70"><a href="#cb49-70" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="aebefd5e-0bfa-4699-bc76-88e7e84ebe38" class="plotly-graph-div" style="height:550px; width:1100px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("aebefd5e-0bfa-4699-bc76-88e7e84ebe38")) {                    Plotly.newPlot(                        "aebefd5e-0bfa-4699-bc76-88e7e84ebe38",                        [{"legendgroup":"k2_group","marker":{"color":"rgb(68, 1, 84)","opacity":0.7,"size":7},"mode":"markers","name":"K=2, Cluster 0","x":{"dtype":"f8","bdata":"Di5HaF5O7j\u002fn7Kp4gPDOvxG+gJxOe+s\u002fEE93UHKk8j9ELtJSyEn1P5wN\u002fxSar\u002fU\u002fG9mTqi4O0z+UcUIv7vHXPxBH889v3+0\u002flQ3\u002fFJqv9T+oPph6Lq7kP\u002f9GBVVX4My\u002fWd9GONTssT9KMdUkTW\u002fmP\u002fXVWpCRvKA\u002fNbULupH29z9\u002fwIWFsx3PPzEPAMaQHnU\u002fcQ+V9YD+8z9D04x+ASr1P9kyYiCz8Oc\u002fE66ERj283j\u002ftTtaplfPQP\u002fb6TCdw+Nk\u002f9tAxMZNL5T9QzDwzDJvdPyZEE6XLqfE\u002f0mGRjZzPxD+AxTwXFxHTP6o+ipdt7dm\u002fV6t7BY9S9T97MKdweTrjP3lABwW6sOs\u002f4TeFzB8a3D+T4ilgq4joP+W1RA0Mjtc\u002fOH8YHOta5T\u002fEn2+Rx4XTP3DEfDqLd7o\u002fH62A3DN6zj+nhxYZpvjeP0E57WED78M\u002fU6WMqCgVyj+ckrI+JJynv7fMzbi12u4\u002fuyug5GF26z+LzmGhWk3gP6hSfSFRQec\u002fFtmTqi4O0z8WOqhTbWvvP5oN\u002fxSar\u002fU\u002fmcpYsa\u002fM3j904ABpa0XOP5tEFGqdjfA\u002fzQLXiLex+D\u002fcfehmEGXVP3FAMdMgOO4\u002fP7dekhgQ4j8W2ZOqLg7TPwNNtPpf7+A\u002fWY0gZTbx8D8k1XYNVdDlPzT8tXbhGNY\u002f+6YhaUl11T\u002f9uMUoaxH1P5nivijA\u002f+A\u002fFtmTqi4O0z+QTQctJnrQP5Nk5tewPeQ\u002f3pj0XDkr3D+0EDpK17PxP1fztBjaG+4\u002fdaLw0B71RT+AxTwXFxHTPxnwUpPH8s0\u002f\u002f9b9jq7k9D+Iu6AdKfDgP\u002fcxXXnF6cQ\u002fgMU8FxcR0z+UvUk7SubQP8ZNrx57MsO\u002fJ7Oe83agxj8YCsi+iOKkP8ikfKaVYfQ\u002f\u002fvFB1ZQV8D+CaLso9iKWPw\u002fv5oqas9M\u002fupFq9zUv1z\u002fK8+0u8MrmPz24Rtb2POw\u002f4oU2VdEGuT\u002fetOywoq\u002fkP4O4beunk\u002fE\u002fxHj2lJ\u002fs9D\u002fWpEDDIJ\u002fNP\u002fzS2sHz6LS\u002fBGIEM4Wf1T+puvE6eTTkP1017cJbdNE\u002fVuNm0tHJ0r\u002fcyjW2sm7EP4lUZchfK7I\u002fDEFmvngd0j8W2ZOqLg7TPz0lDSQgnM8\u002fBFH6ePrt7j+D7M\u002fbtuvVP9r6CFMmjcc\u002fHmBnj1lI+z8x2FoY2Oj2P916+1I6eb2\u002fMXgWnhbK6j8JpoKUlNPoP65eoqby986\u002fXJ6Y7T3X3j8W2ZOqLg7TP+y9rTyES+M\u002fmg3\u002fFJqv9T889pCJLYL0P21IltRDseo\u002fFtmTqi4O0z9OodnFSBzZPxV4HJNRGKq\u002f94VICWA24D+AWp9XZpXZP\u002fl98GW6NeM\u002fZPc5rqocmb+iD0lIk4bKP3XFGETPS+4\u002fGbuA7tht5j+XEmqjYYSwv6fSc9zxNLK\u002fXmvxweFj4z9MCgt8NLreP3z30+SCBe4\u002fFnDK51lv6T8h2dPyFN3gP4mCkCyObvA\u002fqEVuHZdzyj8ywuFYgK\u002fsP1HvSucZPs4\u002fFtmTqi4O0z9uTtXEtmjdP9nExyXVVqm\u002fqAgxe8Pw8z8fy4CzXdv5PwzT1V5ZQ+I\u002fKfvoI6XOwj\u002f838qKnG30P4ecZ+lmf\u002fA\u002fOS7SUshJ9T\u002fPCqYrTXd9v+xHbFMQKfk\u002fIvo3BePnzD9vqefWXUXhPwZRexM7e+8\u002funXa0zjy1z\u002f3R5JsfXOyv9v1sPB+Yrm\u002fFtmTqi4O0z9jZppzMxTaP9Ved6rPYe8\u002ftWz2uVnq6z986RLUyRfaP6sK7wrA4ss\u002fdjIypquv4D99rvDICo7kP1IO8NZqz9Q\u002f5ga8etVo8z85F6fh+nDuPxQKh90NKOg\u002fmdNpHnUH8T9HY06y93PlP6WllPhZB8s\u002ftGU2naTx8z+HP21PxYv2P\u002fzt5xK6W\u002fM\u002fdaLw0B71RT+Yh8EzBISvP9yZ57Ce2PI\u002fCn+vOK60+T8iAHFpn3nNP7Dd\u002f9LtkN8\u002fKaqEHrA22z8hHRSQ5ZbQP6E\u002fXnWv0PY\u002fb3gaFS0J1T8460mEoWbMPzUKtxm2X+Y\u002fUCQtDh47zD922HeyjRa7vxbZk6ouDtM\u002fzSi8vPhuc7\u002fPstK8RAvjP+p\u002fxvPQRtA\u002fcZ2LWRa54j9Qdxbmvo3RPwFNqq7\u002fJvQ\u002feODP2C1G5D+lwBfjciruP60TiYN1b+A\u002fHmBnj1lI+z+3Eh42odqwvzS8SMQhGZ8\u002f5qhrGYd\u002fwz\u002fKbGE1CE7dP\u002fqp8qcy6dA\u002fhu2VGbFa6z9Fmr8Xr8PPP\u002faXs2e5ueM\u002fO5jFxonH5D92VfoI86TSPxbZk6ouDtM\u002f\u002fbjFKGsR9T9K\u002fuKiLhaeP7EMIYh\u002fY\u002fM\u002f1pPGTDX81T8W2ZOqLg7TP1g0jJnJu+Q\u002fRwKu+X6D0z\u002fqgSrOyJbrP3WicnbIU9w\u002ftxIeNqHasL+fK\u002fJ+7RnGPwy4o3+v19Y\u002f34DkJQqX8z8vMwblNnrpP\u002fZzvNLqiOU\u002fKK2zRka\u002fyj\u002fXzlBM+sT0PxbZk6ouDtM\u002f9X3Qq7Bq6j8AnME+NJr4P2DUCV\u002fnXOA\u002fJWBoymXZxz8Z4iXHhirsP8wPZMWkVN0\u002fFtmTqi4O0z9rB9iwuN\u002foP+S4GBJ6wdM\u002fSGFUGPrsuT8ouBqeome4v6842MlsmO4\u002f"},"y":{"dtype":"f8","bdata":"s9uMK1Yn3z9B+e0uYz7WPwmT9UgIYaE\u002fzqF\u002feaC+7r+K6afK41DfPxVHqey78vi\u002fux2GZK3s1r8YHFCmlMTWP87lWQWV2dM\u002fDEep7Lvy+L\u002fC92cY0mjFP22JNiOTfvc\u002f5E4iyAl01z\u002fB9Q0U1ViRP3och77gjs8\u002fAfEo8nIu0b+ZfhDh1pPKv5ft12lJ6fE\u002fxQRMo7C22D+DAV9iy9i+vy8wAGp6Feg\u002fAVS8QzUc8T8jNg+Psj7HP+C2dqokbuY\u002fFulG+PCb5b89dBu+M9CuP+XB8DyXTey\u002f87C0mVpl6z\u002fcW3srx+jWv5pbLyh\u002fxeg\u002f8ilwXwIzqL+BWzNPxHDVP7FDgit2Cu4\u002fcfRY9ymPyb9qlzdg8YHePwKE41VqoMQ\u002f2malGK\u002fL4z\u002f+ug+Xa8rTP7IuDHhnNOc\u002fZPjk9TKF0b8T4yUoKNn5P0n8+Ib0IOM\u002fD3oQTrfatT\u002fLt9ECHnrhP4YU1jS4DdA\u002fDigsJBoixr83KX+xNIrTv03hHdvGA8m\u002fsx2GZK3s1r8PYELGq07svw5Hqey78vi\u002fXyJoRGOm8j8sPxE3ec7APx4Ez9wrvrm\u002fDAQevwqG17\u002fwkLdX78DUP0XtJafpJ+a\u002fDOY9xIzevj+zHYZkrezWv2WYF\u002f3Qj\u002fI\u002fzYZq2g\u002ft0z+tv6x3YMXaPxI2VexxHPo\u002ftCrfh\u002fC2wL8nPJ5f\u002fsf3v37jlvmp5OA\u002fsx2GZK3s1r8eW40vT8fMP1zTFSkQvdm\u002f\u002f4hsha4C8D+zYTVYrEatPxSblpxJ7OE\u002f2E8Sihfsk7\u002fcW3srx+jWv+\u002f+A9Osues\u002fRp+vVe4Zqj8bdz9zewblPwk7biueh7q\u002f3Ft7K8fo1r9DxSjRATa9vwkgoEeIHuQ\u002fK2as5nhAuj9fiP3Bq4jzPy7t4glhp5w\u002fshvAmH3o1j\u002fD1j6YlwzaP3JO\u002f4tRTOs\u002fIIhSKDl\u002f4D\u002fS+dvzt4LYvz3XpxoBvsi\u002fKL7DUgVj4z+Ne32KnnDFP+z1M\u002fsTNGA\u002fIwEbOgBe47\u002fmJpbSHZWov53mY\u002fETk9c\u002fYpQIjmE67D9B\u002fO9z323ev3yy9rKTt3e\u002fVxnzErncxD9DUNjBRYPnP7q61hYh\u002ft8\u002fFJyVfXsP3T+zHYZkrezWv3A1SqB25tA\u002f5f8lMPANvr++5Ft+yU3JPxewHrHkEPg\u002f0BAAi9Du2b+e37q56yfiv58dy\u002f0TwPA\u002fON3AXdY34r\u002fWf9D669jiPw6vJkYHQfI\u002fjW1iJeEVwr+zHYZkrezWv3UxKBJnsds\u002fDkep7Lvy+L8DXf\u002fHX2Puv7Y+LWyzB8y\u002fsx2GZK3s1r93V1P\u002fm6vgv7O8LFZzjpm\u002ff8ZEUksa5j\u002f3trmUfsXTP7w8YDMysOo\u002fCPlDBAvp9D9z2gfVbh\u002fRPxijpVIe1to\u002fPthhg3EakT+BYVG5RSnbPzMgseI2beg\u002foD8RjpSX678XRgxzJcXmP8EfiOECcMw\u002fvrOSk\u002ftpyj80XSACL0rXP7vUX9CcNPS\u002fNnxKdoeH6D\u002f+IywRQT\u002fFPxVsX3A9p6K\u002fsx2GZK3s1r9yKmgwc1XZvzJl1+b5UfQ\u002fWMfxxVLM8b86+QceNHbwv70nJ2b9z9k\u002fABxkaWSQ6z9ULOb1jXyUPw5eSwIABus\u002feumnyuNQ3z9m1QT+trTwP5WyXdv\u002fu7S\u002fvDl45kNf6z9YFQYvX6nuPzKd6EDllNY\u002fBqLltkxf4T9G6lY7KyjkPwRxbK0tH+E\u002fsx2GZK3s1r8cfeZntHfLP+g7fc9XCfC\u002ffiu7ocucuD8\u002fKInlRILPv3VlUgMTKvQ\u002f68LYMrXM4r\u002fo91vx9rD0P\u002fs2e61aFcK\u002f3mPHEh5O1b9ygVS45Rvgvxv9xkYBXdA\u002fEw681ncnlb9QpQOXD\u002fDWv84BNL3BksY\u002fUJjkoolDnb+2g4KGY27Xv7naueJ\u002fIs+\u002f2E8Sihfsk79yxyLuSl7WP9NqxoB+p+Y\u002f09gI4\u002f7l5r9pvjqUfFzdP9EBWrNaA+E\u002fO8Nfo5AVxz9SZ4fSU\u002f\u002fpPwD\u002fvmDLTqs\u002fY4tBO0j+5D8T5v2CMSHTPyYNJIlgssI\u002f1f3l7JYd6j+68K3VibTzP7MdhmSt7Na\u002fmmrWIyhL7D+Og4gOeBKqPzzq7qRYMvI\u002fLmwA9j4K8D9F00SMlkf3PzleZkp2\u002fdM\u002fXO9zzlYQ8z8RhRdQ+XPxv6HXuY1m2fY\u002f0BAAi9Du2b+JFY8T3CjuP9Zjg9LG3u4\u002fMd9Hxgxl7T8WjwA0zjnpP+q9\u002fexoJr2\u002f1yJCr5+u8D8XfuuXW6rbP2AqoK4druk\u002ft\u002f58QlsJ8D+kz6f28XmTv7MdhmSt7Na\u002fJzyeX\u002f7H978mFlTgzmrJP1YvMEETHtm\u002fOPWJvnQV0D+zHYZkrezWvwfGHIjbleE\u002fdDSfJKiN6z8LjlwFoqDZP9J0qS2LBPQ\u002fiRWPE9wo7j9F85V8sBG+PxI7jO\u002fENNw\u002fdy0N+Szg4L8UiuTNWf\u002fzP719ze5oYOY\u002f7kOLzvWn+D\u002fOxaADxkLJv7MdhmSt7Na\u002fRTjqb1Cm8z\u002fxGfiaIczlv8xTs2z4l5U\u002fu2w8ADgS5z8I9H8GJtzcP6H9SVTTpfI\u002fsx2GZK3s1r+lK4aRdGHnP\u002fKYgmZn7uw\u002fWdF774Qk3D+mYUKbTpreP7V3cIVcLOc\u002f"},"type":"scatter","xaxis":"x","yaxis":"y"},{"legendgroup":"k2_group","marker":{"color":"rgb(253, 231, 37)","opacity":0.7,"size":7},"mode":"markers","name":"K=2, Cluster 1","x":{"dtype":"f8","bdata":"5UMUVgHo0D\u002fFigqrKaXjv3yp0bN2RfG\u002fCRIsvc9377\u002faqPoOVBXoPzgTQc\u002fzq+6\u002fADDVsQkG5L+8Wx2\u002fKRXivyRhcPYgPas\u002fS81Yfl+D57+bpjru3g3nv9bQ3DE9\u002ffO\u002fZDZzXwsGyb+D2Dvnl3\u002fwv7VW5RR\u002fBNK\u002fzlrgfIidz78jzP3VIxjQv2X6+8LXPOa\u002fVi939B543L\u002fjs\u002fD9JQPiv6bBEG9rTuu\u002f02KrwVkq5b+XEz0iDr\u002fwv5425nhZOfG\u002f15GYOBMD5b+38ZqnuwLxv72vE11gr\u002fC\u002f17xLC2mC6L+w5B+YfVHxv202z23gd9W\u002fAhFy9SiU5b9ieH80mVbjv0c7U6EXatu\u002feYyt6z4347+5MAX8bx\u002fwv2HNN3amOYM\u002fLpVCFQ5+3L8GLL5Z+km9P2J4fzSZVuO\u002fZCZKsAIm2b8mWaukou3Tv7fxmqe7AvG\u002fZ7Nps68557+HV77crRzzvzxbdrqpgO6\u002fFWcx2QRq1r\u002fMMsdTSYvWv49s59Uqy9a\u002fRhZZtco1478yK\u002f2hz\u002fHnv4d0d3+YWuG\u002ffZt\u002fVyP05b\u002f3IEGrynvUP4PERMcCqdG\u002fgIzKzvUtyD84E0HP86vuvz+j0pnxjtq\u002f9sSi83wu47\u002fMUWEqaE3av1\u002fNEvvMaMO\u002fBx6olMViwj+38ZqnuwLxv+YjAi4LZuG\u002fxibwehFy4r\u002faMun\u002f3m+BvwWd7Jh\u002fqu6\u002fudj9mrCn67\u002fVVIJpsU7hvwwzoEHdg+i\u002fUnfGZ+rv0r+MuKZCDBvQvzgTQc\u002fzq+6\u002f+CDmBua\u002f77+91Ol3amXRPwj5crQDF9K\u002fSeXHCx4J4j+EwY31kQ2GPxPvcXVVVOi\u002ft\u002fGap7sC8b\u002f7HvCVtRzqvyPM\u002fdUjGNC\u002fnLZwjAEC8b\u002fZSfOOclHfvzgTQc\u002fzq+6\u002fgtzmpUKC4r8MM6BB3YPov8W0Gtrj3OG\u002fOBNBz\u002fOr7r8+WKIwUQHSv9Niq8FZKuW\u002f55iv4hu55L\u002f4IOYG5r\u002fvv8525DaC\u002fOe\u002fmuLIulaM2b\u002fhVgmh1WK6v7l+CLRMI+K\u002ft\u002fGap7sC8b9qs5jVGPbJv7fxmqe7AvG\u002fFW0SFx0i5L+vNTmcz5fSP11jb+O5Iq8\u002fdXy0l\u002fXB2r\u002fvtS\u002fsBxHhvw\u002fjPkYWn++\u002fZLF3KmGa079Ny713gxPbv1RD\u002fj0MNeW\u002f02KrwVkq5b\u002fjMb8bXerKPxss7WRdBey\u002ffs0mpwciuL9Ga915oWXwv79FrCqP79W\u002fM6BX0\u002fIH578mH1sVtXzTv\u002fANePvMyvG\u002fxaqR0HG+77+5fgi0TCPiv4exwb3mmeq\u002fVjr5Yy8K5b8ar5GsJt3nv0755wbb6Na\u002fQr0IYTQU5z\u002fLiZfsS97Pvy6Qj+NiEOC\u002fZLHAU5\u002f68b\u002fOPWuCK8C7P8EPJBIF3ee\u002fk1O14uMA2r84E0HP86vuv7QQ8E1ONOG\u002fD9OGISMw3r+I1zPJBVTzvw6RWLuCXaO\u002f1DmG4YoD3L\u002fS0dG6f77Pv9Niq8FZKuW\u002fnJiPQS5\u002f2L84E0HP86vuvyPM\u002fdUjGNC\u002fl2OmT+9F4D\u002fUIyAfyPDpv9Niq8FZKuW\u002fDW17fnnztb98ToTPeMTlvziG1XKfgNW\u002fuIxqBhU18L8kAdAxKIjXv\u002fZzl2ijd9K\u002f+CDmBua\u002f77\u002fUOYbhigPcv+mPaPrgRfC\u002fDzhrc\u002f\u002fY178POGtz\u002f9jXv\u002fU+zrqi+ei\u002frB\u002fXPb4N3b++BdjQ4afjv6Yza9ZFrOO\u002fNiB4btce5L\u002fEobu5C7q5P7ta5PqOgda\u002fPFt2uqmA7r\u002fQJLKHGNjZvwQpcM4fCoA\u002flHEjsixc4L84E0HP86vuv4CamxfaMuG\u002fp1BhrQzK8r\u002f+lZhLnUThv49s59Uqy9a\u002fyU80F9WC2L\u002fQ\u002fkBQS4PVv1z0hRodQdg\u002fOAw\u002f+a5M4b++BdjQ4afjv0M0Fzskk8W\u002fdVnbDiS3779kscBTn\u002frxvxjnRWVERO+\u002f7ljPGe1B5L+4jGoGFTXwvwP2Il3LPOi\u002ft\u002fGap7sC8b+RYZNo47zovwP2Il3LPOi\u002f\u002f89iU2+u47\u002fBDyQSBd3nv94LyyVdweS\u002fdwa38iFO2b\u002fo8CxNfxLsvxQsJ36Ny+e\u002fZj7sMKB8i7+jfjJrQZjDPyDwladm0q2\u002fzJRHsawu2r+xS4awT2fCPz8fG5hXpdy\u002f7ljPGe1B5L9grroidMbXv9Niq8FZKuW\u002fDzhrc\u002f\u002fY178Gk2KkcnqqP3j4jOVg5uG\u002fZLF3KmGa0784E0HP86vuvzgTQc\u002fzq+6\u002fn8WjzPIYij9CgHdilEzLv8PGN5LbFui\u002faCx6FT6jyj8Trgm9zjTKv4jXM8kFVPO\u002fYtNapjq8tb84E0HP86vuv32dBYG38bA\u002fDDOgQd2D6L\u002f2r9CvNEjnv0XoAgiJic+\u002fX8f3+0RT3b\u002fTYqvBWSrlvwWd7Jh\u002fqu6\u002fTuP24GZb079VUBVpK\u002frfvw\u002fjPkYWn++\u002fSgfNnRli2r\u002fRmSwGt33Vv8ENh4pEYPC\u002fcASaxIL06b934qj\u002fu3WSP68eeU\u002f8Hem\u002f7wGV+Uiks7\u002f4IOYG5r\u002fvv\u002fzn2EQhpeI\u002f+d4hR4+z3r+NgKK5XQ7hv\u002f5pzvaVb+2\u002fhuHRBLro5r8qprLgZjTbv6dQYa0MyvK\u002fTbtWdfSL8r9LzVh+X4Pnv8ww5Elziua\u002f2ZZ22rxi5L+FKu43pnDxv4t6ZzP5lvO\u002f\u002ffsY0mL+zD9LzVh+X4PnvzkTQc\u002fzq+6\u002fOBNBz\u002fOr7r+Uog1aUwnpv4y4pkIMG9C\u002f"},"y":{"dtype":"f8","bdata":"Rcvu1mZP8b\u002fI4FzV1s7AP1UUB5kNvLw\u002fpzGHwp\u002fi5T8\u002fz5fVvyvxv0py7zfITda\u002fSmVgk\u002f4R6L\u002fsAJI+l4fUP9QzRJqoJ\u002fW\u002fOG2NnEJ94r\u002fTPoL\u002f6UTUv0pWFwRl8eM\u002fq1Jx5O\u002fL879veCEiH5fSP+Pdkff6yt8\u002f0DEm7Cmb2b9pJg+9UNXkv8q8jfqgWNy\u002fCes6UTL\u002f0r8TmTlMDoGwPwahL32uvdK\u002fgDXqEdr95b+Y0qgqZ8CnP5gM9Sta5s0\u002fznnyXpowxD8rEfXHCALSvyvCLEj7f4W\u002fBKRnPQfW47\u002fxQwZewsa+P7\u002faSncNOOy\u002f8owr7KSazL9QC94\u002fXQzlv6\u002fNIhs4Tci\u002f7Yfc5ohj47+0da6SWv2Sv\u002fWPlfpfEc0\u002fiAM0n8J14r\u002ftl5AUqE3Kv1AL3j9dDOW\u002fDsNLAd8U17\u002f7uf1m\u002frScvysR9ccIAtK\u002fMtV1RqEnoL8CkDtN7kPePzEPZ6z7rMW\u002fR3xb67xp3b+PmsI2a0DFP9j1EQVxr+K\u002fASdXypVh4799\u002f1hEMbLYPwrS\u002f8XwhdQ\u002fF5xhbjEC6T8hXgdd5MDjv\u002fPvcHibiO6\u002fEHHsz6VUxr9Lcu83yE3WvwVX4IFS+t6\u002fMYGCkUXy5L8gzzBPBsDbv1jdw2IImOK\u002fZK1\u002fF0Ae8r8rEfXHCALSv9yH89ABCNk\u002fCqPzRCFGs7+KBsjCSYb2v3aw5P7hSda\u002fTUYXnfQzy7+3NrI4QJvhP+8E7Vn61+O\u002fMudSH7EJzD9Uh5TZQ9fkv0ty7zfITda\u002foxfOHm26ur\u002fHYV4vIiDzvzaoDX7kMue\u002f670gp3Ms+b8DUJQR0zvvv4jED7T8\u002f0Y\u002fKxH1xwgC0r81CbU6ktWsv2kmD71Q1eS\u002fV0\u002fqjiL+0b8rkZ\u002fKlGqjv0ty7zfITda\u002fTNAnuyoDwL\u002fvBO1Z+tfjvy6lwV7dpuE\u002fS3LvN8hN1r\u002fY4HhJga\u002fdv4A16hHa\u002feW\u002f7VzqWpgG2D+jF84ebbq6v1\u002fejwbftdK\u002f5Qad0akWxz9c2Ml6+Zbjvx9++l4fM+u\u002fKxH1xwgC0r9CfkXfW47dvysR9ccIAtK\u002fUgLuCrjR0L8H3cT7ONnZvygYUAy6YNi\u002fzUyriYt73r9hi3r\u002fTMXev\u002fWIfpyDncS\u002fIJiV3+IF4L+9hK96NeqFv7ZBJQ6RxNy\u002fgDXqEdr95b\u002fAQG4hQCfrv5dyf\u002ftUmcA\u002f+44QhZ1A4r+3y+Bt9J2jv1\u002fVyDoy2uS\u002fBZCmS7WUsD8AJNN8fG\u002fyvwHfPN4tXN8\u002fVhCjOtSqur8ffvpeHzPrv7sGzwPbj8a\u002fGhSrxvCu0r\u002fHXibG61nWv3dJeH6H1OI\u002fWJbM8Jki9L9KD1v+QXe+P9AooVbW1+I\u002ftiw5yrrJ5D9Vgrvt3umFv0Q4AmkZS7k\u002fnqcg2oZrqz9Lcu83yE3Wv4Dmq0wjMt8\u002fIvzIw50h3b\u002fPMhD5nprvP6YQRTnhSca\u002fk+l\u002fkjhU7b9BDln3TGrmP4A16hHa\u002feW\u002f6\u002f+DQT4z8L9Lcu83yE3Wv2kmD71Q1eS\u002fQrAtRepq8r8Kjz3tQh\u002fUv4A16hHa\u002feW\u002f\u002fY4kazTb0b9fyeEUdUHcPxw03bHBOO+\u002fG6TNFUBOyb\u002fAaoGOVdiTv34EHokLuK6\u002foxfOHm26ur+T6X+SOFTtv+QnpTo2su0\u002f067vKXhjyL\u002fTru8peGPIv1iLZKUUYaq\u002fYgY1xIdg8T+W8tn3ypDkv3fgdYvSX9S\u002fqHoHBP5+8T9VzIczSYjRP84l52JE1bi\u002fMQ9nrPusxb+Bpb3hca2\u002fP\u002f5p9Hh8+u6\u002fx+hMAV6l4r9Lcu83yE3Wv1eotoUJNt8\u002fozzygAjL5z90ansqgqjoP9j1EQVxr+K\u002fBEoeiL1duj8kUcIjGTjBP+M8BQK54uq\u002fAK9seRFb5j+W8tn3ypDkv9SHiYuX6ue\u002f2PD+OSmYw7+2LDnKusnkP\u002flb2KL+ceQ\u002fPGSfZskSmj8bpM0VQE7Jv7HI4R9IRci\u002fKxH1xwgC0r\u002fscbEH01nWP7HI4R9IRci\u002fnY9eiA5JY79EOAJpGUu5P4r5AX6SL+M\u002fDVHLOCtgyL+VgP8VJejZP8bxZjfU7+s\u002fneMCZK9I1b8xOgPEdCH3v9549MvO\u002fOC\u002fpgpkSm9frL9A9dloLjzhv0zJmxo65Mq\u002fPGSfZskSmj8ITsVp9B2tv4A16hHa\u002feW\u002f067vKXhjyL8paCemEs7av9kS9YsIBbq\u002fIJiV3+IF4L9Lcu83yE3Wv0ty7zfITda\u002fD5X3ItoN2r+KifeXZtnRv9kazFnSE6w\u002fs27prss0wb8PPbl+OjjMP88yEPmemu8\u002fopyaGjQBxD9Lcu83yE3Wv5unxXCfpui\u002f7wTtWfrX479VUJZAxB3YvzHWDfcn3sG\u002fYG79de69Zb+ANeoR2v3lv3aw5P7hSda\u002fRA9reYEMvL\u002ffO9v3PDLnv\u002fWIfpyDncS\u002fGxcjLopVzL8001eVzjbvvyxYN8yUeLg\u002fYCmUqXNb4T\u002fAVHeCHy3Nv0IVbkKaRuA\u002f3bgWuMZD5L+jF84ebbq6v1KiRvAE+\u002fC\u002fJdkpyDq07L\u002f3gSTminPaP+6dG2y++Nq\u002fFFK0hsH\u002f7j8nW71amYdov6M88oAIy+c\u002f9urclw6uyz84bY2cQn3ivytc52amK86\u002fWNPWc0wFtT8IbTakSPTZP\u002f998D6HH+U\u002fz16qS6b66b84bY2cQn3iv0xy7zfITda\u002fS3LvN8hN1r+DZ0YL0f3Mv1WHlNlD1+S\u002f"},"type":"scatter","xaxis":"x","yaxis":"y"},{"legendgroup":"k3_group","marker":{"color":"red","opacity":0.7,"size":7},"mode":"markers","name":"K=3, Cluster 0","x":{"dtype":"f8","bdata":"Di5HaF5O7j\u002fn7Kp4gPDOvxG+gJxOe+s\u002fRC7SUshJ9T8b2ZOqLg7TP5RxQi\u002fu8dc\u002fEEfzz2\u002ff7T+oPph6Lq7kP\u002f9GBVVX4My\u002fWd9GONTssT9KMdUkTW\u002fmP\u002fXVWpCRvKA\u002ff8CFhbMdzz8xDwDGkB51P3EPlfWA\u002fvM\u002f2TJiILPw5z8TroRGPbzeP+1O1qmV89A\u002f9vpMJ3D42T\u002fSYZGNnM\u002fEP4DFPBcXEdM\u002fqj6Kl23t2b9Xq3sFj1L1P3swp3B5OuM\u002feUAHBbqw6z\u002fhN4XMHxrcP5PiKWCriOg\u002f5bVEDQyO1z84fxgc61rlP8Sfb5HHhdM\u002fcMR8Oot3uj8frYDcM3rOP6eHFhmm+N4\u002fQTntYQPvwz9TpYyoKBXKP5ySsj4knKe\u002ft8zNuLXa7j+LzmGhWk3gP6hSfSFRQec\u002fFtmTqi4O0z+Zylixr8zeP3TgAGlrRc4\u002fm0QUap2N8D\u002fcfehmEGXVPz+3XpIYEOI\u002fFtmTqi4O0z8DTbT6X+\u002fgP1mNIGU28fA\u002fJNV2DVXQ5T80\u002fLV24RjWP\u002fumIWlJddU\u002fmeK+KMD\u002f4D8W2ZOqLg7TP5BNBy0metA\u002f3pj0XDkr3D+0EDpK17PxP1fztBjaG+4\u002fdaLw0B71RT+AxTwXFxHTPxnwUpPH8s0\u002fiLugHSnw4D\u002f3MV15xenEP4DFPBcXEdM\u002flL1JO0rm0D\u002fGTa8eezLDvyeznvN2oMY\u002fGArIvojipD\u002fIpHymlWH0P\u002f7xQdWUFfA\u002fgmi7KPYilj8P7+aKmrPTP7qRavc1L9c\u002fPbhG1vY87D\u002fihTZV0Qa5P9607LCir+Q\u002fg7ht66eT8T\u002fWpEDDIJ\u002fNP\u002fzS2sHz6LS\u002fBGIEM4Wf1T+puvE6eTTkP1017cJbdNE\u002fVuNm0tHJ0r\u002fcyjW2sm7EP4lUZchfK7I\u002fDEFmvngd0j8W2ZOqLg7TPz0lDSQgnM8\u002fg+zP27br1T\u002fa+ghTJo3HP916+1I6eb2\u002fMXgWnhbK6j8JpoKUlNPoP65eoqby986\u002fXJ6Y7T3X3j8W2ZOqLg7TP+y9rTyES+M\u002fbUiW1EOx6j8W2ZOqLg7TP06h2cVIHNk\u002fFXgck1EYqr\u002f3hUgJYDbgP4Ban1dmldk\u002f+X3wZbo14z9k9zmuqhyZv6IPSUiThso\u002fdcUYRM9L7j8Zu4Du2G3mP5cSaqNhhLC\u002fp9Jz3PE0sr82IHhu1x7kv9AksocY2Nm\u002fTAoLfDS63j9899PkggXuPxZwyudZb+k\u002fIdnT8hTd4D+oRW4dl3PKPzgMP\u002fmuTOG\u002fMsLhWICv7D9R70rnGT7OPxbZk6ouDtM\u002fbk7VxLZo3T\u002fZxMcl1VapvwzT1V5ZQ+I\u002fKfvoI6XOwj\u002f838qKnG30P4ecZ+lmf\u002fA\u002fOS7SUshJ9T\u002fPCqYrTXd9vyL6NwXj58w\u002fb6nn1l1F4T8GUXsTO3vvP7p12tM48tc\u002f90eSbH1zsr\u002fb9bDwfmK5vxbZk6ouDtM\u002fY2aaczMU2j986RLUyRfaP6sK7wrA4ss\u002fdjIypquv4D99rvDICo7kP1IO8NZqz9Q\u002fFAqH3Q0o6D9HY06y93PlP6WllPhZB8s\u002fdaLw0B71RT+Yh8EzBISvP9yZ57Ce2PI\u002fIgBxaZ95zT+w3f\u002fS7ZDfPymqhB6wNts\u002fIR0UkOWW0D+hP151r9D2P294GhUtCdU\u002fOOtJhKFmzD81CrcZtl\u002fmP1AkLQ4eO8w\u002fdth3so0Wu78W2ZOqLg7TP80ovLz4bnO\u002fz7LSvEQL4z8Trgm9zjTKv+p\u002fxvPQRtA\u002fcZ2LWRa54j9Qdxbmvo3RPwFNqq7\u002fJvQ\u002feODP2C1G5D+tE4mDdW\u002fgP7cSHjah2rC\u002fRegCCImJz780vEjEIRmfP+aoaxmHf8M\u002fymxhNQhO3T\u002f6qfKnMunQP4btlRmxWus\u002fRZq\u002fF6\u002fDzz\u002f2l7NnubnjPzuYxcaJx+Q\u002fdlX6CPOk0j8W2ZOqLg7TP0r+4qIuFp4\u002fsQwhiH9j8z\u002fWk8ZMNfzVPxbZk6ouDtM\u002fWDSMmcm75D9HAq75foPTP+qBKs7Ilus\u002fdaJydshT3D+3Eh42odqwv58r8n7tGcY\u002fDLijf6\u002fX1j8vMwblNnrpP\u002fZzvNLqiOU\u002fjYCiuV0O4b8orbNGRr\u002fKP9fOUEz6xPQ\u002fFtmTqi4O0z\u002f1fdCrsGrqP2DUCV\u002fnXOA\u002fJWBoymXZxz\u002fMD2TFpFTdPxbZk6ouDtM\u002fawfYsLjf6D\u002fkuBgSesHTP0hhVBj67Lk\u002fKLganqJnuL+vONjJbJjuPw=="},"y":{"dtype":"f8","bdata":"s9uMK1Yn3z9B+e0uYz7WPwmT9UgIYaE\u002fiumnyuNQ3z+7HYZkrezWvxgcUKaUxNY\u002fzuVZBZXZ0z\u002fC92cY0mjFP22JNiOTfvc\u002f5E4iyAl01z\u002fB9Q0U1ViRP3och77gjs8\u002fmX4Q4daTyr+X7ddpSenxP8UETKOwttg\u002fLzAAanoV6D8BVLxDNRzxPyM2D4+yPsc\u002f4LZ2qiRu5j\u002fzsLSZWmXrP9xbeyvH6Na\u002fmlsvKH\u002fF6D\u002fyKXBfAjOov4FbM0\u002fEcNU\u002fsUOCK3YK7j9x9Fj3KY\u002fJv2qXN2Dxgd4\u002fAoTjVWqgxD\u002faZqUYr8vjP\u002f66D5drytM\u002fsi4MeGc05z9k+OT1MoXRvxPjJSgo2fk\u002fSfz4hvQg4z8PehBOt9q1P8u30QIeeuE\u002fhhTWNLgN0D83KX+xNIrTv03hHdvGA8m\u002fsx2GZK3s1r9fImhEY6byPyw\u002fETd5zsA\u002fHgTP3Cu+ub\u002fwkLdX78DUPwzmPcSM3r4\u002fsx2GZK3s1r9lmBf90I\u002fyP82GatoP7dM\u002frb+sd2DF2j8SNlXscRz6P7Qq34fwtsC\u002ffuOW+ank4D+zHYZkrezWvx5bjS9Px8w\u002f\u002f4hsha4C8D+zYTVYrEatPxSblpxJ7OE\u002f2E8Sihfsk7\u002fcW3srx+jWv+\u002f+A9Osues\u002fG3c\u002fc3sG5T8JO24rnoe6v9xbeyvH6Na\u002fQ8Uo0QE2vb8JIKBHiB7kPytmrOZ4QLo\u002fX4j9wauI8z8u7eIJYaecP7IbwJh96NY\u002fw9Y+mJcM2j9yTv+LUUzrPyCIUig5f+A\u002fPdenGgG+yL8ovsNSBWPjP417fYqecMU\u002f7PUz+xM0YD\u002fmJpbSHZWov53mY\u002fETk9c\u002fYpQIjmE67D9B\u002fO9z323ev3yy9rKTt3e\u002fVxnzErncxD9DUNjBRYPnP7q61hYh\u002ft8\u002fFJyVfXsP3T+zHYZkrezWv3A1SqB25tA\u002fvuRbfslNyT8XsB6x5BD4P58dy\u002f0TwPA\u002fON3AXdY34r\u002fWf9D669jiPw6vJkYHQfI\u002fjW1iJeEVwr+zHYZkrezWv3UxKBJnsds\u002ftj4tbLMHzL+zHYZkrezWv3dXU\u002f+bq+C\u002fs7wsVnOOmb9\u002fxkRSSxrmP\u002fe2uZR+xdM\u002fvDxgMzKw6j8I+UMEC+n0P3PaB9VuH9E\u002fGKOlUh7W2j8+2GGDcRqRP4FhUblFKds\u002fMyCx4jZt6D+oegcE\u002fn7xP4GlveFxrb8\u002fF0YMcyXF5j\u002fBH4jhAnDMP76zkpP7aco\u002fNF0gAi9K1z82fEp2h4foPwCvbHkRW+Y\u002f\u002fiMsEUE\u002fxT8VbF9wPaeiv7MdhmSt7Na\u002fcipoMHNV2b8yZdfm+VH0P70nJ2b9z9k\u002fABxkaWSQ6z9ULOb1jXyUPw5eSwIABus\u002feumnyuNQ3z9m1QT+trTwP7w5eOZDX+s\u002fWBUGL1+p7j8ynehA5ZTWPwai5bZMX+E\u002fRupWOyso5D8EcWytLR\u002fhP7MdhmSt7Na\u002fHH3mZ7R3yz8\u002fKInlRILPv3VlUgMTKvQ\u002f68LYMrXM4r\u002fo91vx9rD0P\u002fs2e61aFcK\u002fG\u002f3GRgFd0D9QpQOXD\u002fDWv84BNL3BksY\u002f2E8Sihfsk79yxyLuSl7WP9NqxoB+p+Y\u002fab46lHxc3T\u002fRAVqzWgPhPzvDX6OQFcc\u002fUmeH0lP\u002f6T8A\u002f75gy06rP2OLQTtI\u002fuQ\u002fE+b9gjEh0z8mDSSJYLLCP9X95eyWHeo\u002fuvCt1Ym08z+zHYZkrezWv5pq1iMoS+w\u002fjoOIDngSqj8PPbl+OjjMPzzq7qRYMvI\u002fLmwA9j4K8D9F00SMlkf3PzleZkp2\u002fdM\u002fXO9zzlYQ8z+h17mNZtn2P4kVjxPcKO4\u002fMdYN9yfewb\u002fWY4PSxt7uPzHfR8YMZe0\u002fFo8ANM456T\u002fqvf3saCa9v9ciQq+frvA\u002fF37rl1uq2z9gKqCuHa7pP7f+fEJbCfA\u002fpM+n9vF5k7+zHYZkrezWvyYWVODOask\u002fVi8wQRMe2b849Ym+dBXQP7MdhmSt7Na\u002fB8YciNuV4T90NJ8kqI3rPwuOXAWioNk\u002f0nSpLYsE9D+JFY8T3CjuP0XzlXywEb4\u002fEjuM78Q03D8UiuTNWf\u002fzP719ze5oYOY\u002f94Ek5opz2j\u002fuQ4vO9af4P87FoAPGQsm\u002fsx2GZK3s1r9FOOpvUKbzP8xTs2z4l5U\u002fu2w8ADgS5z+h\u002fUlU06XyP7MdhmSt7Na\u002fpSuGkXRh5z\u002fymIJmZ+7sP1nRe++EJNw\u002fpmFCm06a3j+1d3CFXCznPw=="},"type":"scatter","xaxis":"x2","yaxis":"y2"},{"legendgroup":"k3_group","marker":{"color":"blue","opacity":0.7,"size":7},"mode":"markers","name":"K=3, Cluster 1","x":{"dtype":"f8","bdata":"5UMUVgHo0D\u002fFigqrKaXjv3yp0bN2RfG\u002fCRIsvc937784E0HP86vuvwAw1bEJBuS\u002fvFsdvykV4r9LzVh+X4Pnv5umOu7eDee\u002f1tDcMT39879kNnNfCwbJv4PYO+eXf\u002fC\u002ftVblFH8E0r\u002fOWuB8iJ3PvyPM\u002fdUjGNC\u002fZfr7wtc85r9WL3f0Hnjcv+Oz8P0lA+K\u002fpsEQb2tO67\u002fTYqvBWSrlv5cTPSIOv\u002fC\u002fnjbmeFk58b\u002fXkZg4EwPlv7fxmqe7AvG\u002fva8TXWCv8L\u002fXvEsLaYLov7DkH5h9UfG\u002fAhFy9SiU5b9ieH80mVbjv0c7U6EXatu\u002feYyt6z4347+5MAX8bx\u002fwv2HNN3amOYM\u002fLpVCFQ5+3L8GLL5Z+km9P2J4fzSZVuO\u002fZCZKsAIm2b8mWaukou3Tv7fxmqe7AvG\u002fZ7Nps68557+HV77crRzzvzxbdrqpgO6\u002fFWcx2QRq1r\u002fMMsdTSYvWv49s59Uqy9a\u002fRhZZtco1478yK\u002f2hz\u002fHnv4d0d3+YWuG\u002ffZt\u002fVyP05b\u002f3IEGrynvUP4PERMcCqdG\u002fgIzKzvUtyD84E0HP86vuvz+j0pnxjtq\u002f9sSi83wu47\u002fMUWEqaE3av1\u002fNEvvMaMO\u002ft\u002fGap7sC8b\u002fmIwIuC2bhv8Ym8HoRcuK\u002fBZ3smH+q7r+52P2asKfrv9VUgmmxTuG\u002fDDOgQd2D6L9Sd8Zn6u\u002fSv4y4pkIMG9C\u002fOBNBz\u002fOr7r\u002f4IOYG5r\u002fvvwj5crQDF9K\u002fhMGN9ZENhj8T73F1VVTov7fxmqe7AvG\u002f+x7wlbUc6r8jzP3VIxjQv5y2cIwBAvG\u002f2UnzjnJR3784E0HP86vuv4Lc5qVCguK\u002fDDOgQd2D6L\u002fFtBra49zhvzgTQc\u002fzq+6\u002fPliiMFEB0r\u002fTYqvBWSrlv+eYr+IbueS\u002f+CDmBua\u002f77\u002fOduQ2gvznv5riyLpWjNm\u002f4VYJodViur+5fgi0TCPiv7fxmqe7AvG\u002farOY1Rj2yb+38ZqnuwLxvxVtEhcdIuS\u002frzU5nM+X0j9dY2\u002fjuSKvP3V8tJf1wdq\u002f77Uv7AcR4b8P4z5GFp\u002fvv2SxdyphmtO\u002fTcu9d4MT279UQ\u002f49DDXlv9Niq8FZKuW\u002f4zG\u002fG13qyj8bLO1kXQXsv37NJqcHIri\u002fRmvdeaFl8L+\u002fRawqj+\u002fVvzOgV9PyB+e\u002fJh9bFbV807\u002fwDXj7zMrxv8WqkdBxvu+\u002fuX4ItEwj4r+HscG95pnqv1Y6+WMvCuW\u002fGq+RrCbd579O+ecG2+jWv8uJl+xL3s+\u002fLpCP42IQ4L9kscBTn\u002frxv849a4IrwLs\u002fwQ8kEgXd57+TU7Xi4wDavzgTQc\u002fzq+6\u002ftBDwTU404b8P04YhIzDev4jXM8kFVPO\u002fDpFYu4Jdo7\u002fUOYbhigPcv9LR0bp\u002fvs+\u002f02KrwVkq5b+cmI9BLn\u002fYvzgTQc\u002fzq+6\u002fI8z91SMY0L\u002fUIyAfyPDpv9Niq8FZKuW\u002fDW17fnnztb98ToTPeMTlvziG1XKfgNW\u002fuIxqBhU18L8kAdAxKIjXv\u002fZzl2ijd9K\u002f+CDmBua\u002f77\u002fUOYbhigPcv+mPaPrgRfC\u002fDzhrc\u002f\u002fY178POGtz\u002f9jXv\u002fU+zrqi+ei\u002frB\u002fXPb4N3b++BdjQ4afjv6Yza9ZFrOO\u002fxKG7uQu6uT+7WuT6joHWvzxbdrqpgO6\u002fBClwzh8KgD+UcSOyLFzgvzgTQc\u002fzq+6\u002fgJqbF9oy4b+nUGGtDMryv\u002f6VmEudROG\u002fj2zn1SrL1r\u002fJTzQX1YLYv9D+QFBLg9W\u002fvgXY0OGn479DNBc7JJPFv3VZ2w4kt++\u002fZLHAU5\u002f68b8Y50VlRETvv+5YzxntQeS\u002fuIxqBhU18L8D9iJdyzzov7fxmqe7AvG\u002fkWGTaOO86L8D9iJdyzzov\u002f\u002fPYlNvruO\u002fwQ8kEgXd57\u002feC8slXcHkv3cGt\u002fIhTtm\u002f6PAsTX8S7L8ULCd+jcvnv2Y+7DCgfIu\u002fIPCVp2bSrb\u002fMlEexrC7av7FLhrBPZ8I\u002fPx8bmFel3L\u002fuWM8Z7UHkv2CuuiJ0xte\u002f02KrwVkq5b8POGtz\u002f9jXvwaTYqRyeqo\u002fePiM5WDm4b9ksXcqYZrTvzgTQc\u002fzq+6\u002fOBNBz\u002fOr7r+fxaPM8hiKP0KAd2KUTMu\u002fw8Y3ktsW6L9oLHoVPqPKP4jXM8kFVPO\u002fYtNapjq8tb84E0HP86vuv32dBYG38bA\u002fDDOgQd2D6L\u002f2r9CvNEjnv1\u002fH9\u002ftEU92\u002f02KrwVkq5b8FneyYf6ruv07j9uBmW9O\u002fVVAVaSv6378P4z5GFp\u002fvv0oHzZ0ZYtq\u002f0ZksBrd91b\u002fBDYeKRGDwv3AEmsSC9Om\u002fd+Ko\u002f7t1kj+vHnlP\u002fB3pv+8BlflIpLO\u002f+CDmBua\u002f77\u002f53iFHj7Pev\u002f5pzvaVb+2\u002fhuHRBLro5r8qprLgZjTbv6dQYa0MyvK\u002fTbtWdfSL8r9LzVh+X4Pnv8ww5Elziua\u002f2ZZ22rxi5L+FKu43pnDxv4t6ZzP5lvO\u002f\u002ffsY0mL+zD9LzVh+X4PnvzkTQc\u002fzq+6\u002fOBNBz\u002fOr7r+Uog1aUwnpv4y4pkIMG9C\u002f"},"y":{"dtype":"f8","bdata":"Rcvu1mZP8b\u002fI4FzV1s7AP1UUB5kNvLw\u002fpzGHwp\u002fi5T9Kcu83yE3Wv0plYJP+Eei\u002f7ACSPpeH1D84bY2cQn3iv9M+gv\u002fpRNS\u002fSlYXBGXx4z+rUnHk78vzv294ISIfl9I\u002f492R9\u002frK3z\u002fQMSbsKZvZv2kmD71Q1eS\u002fyryN+qBY3L8J6zpRMv\u002fSvxOZOUwOgbA\u002fBqEvfa690r+ANeoR2v3lv5jSqCpnwKc\u002fmAz1K1rmzT\u002fOefJemjDEPysR9ccIAtK\u002fK8IsSPt\u002fhb8EpGc9B9bjv\u002fFDBl7Cxr4\u002f8owr7KSazL9QC94\u002fXQzlv6\u002fNIhs4Tci\u002f7Yfc5ohj47+0da6SWv2Sv\u002fWPlfpfEc0\u002fiAM0n8J14r\u002ftl5AUqE3Kv1AL3j9dDOW\u002fDsNLAd8U17\u002f7uf1m\u002frScvysR9ccIAtK\u002fMtV1RqEnoL8CkDtN7kPePzEPZ6z7rMW\u002fR3xb67xp3b+PmsI2a0DFP9j1EQVxr+K\u002fASdXypVh4799\u002f1hEMbLYPwrS\u002f8XwhdQ\u002fF5xhbjEC6T8hXgdd5MDjv\u002fPvcHibiO6\u002fEHHsz6VUxr9Lcu83yE3WvwVX4IFS+t6\u002fMYGCkUXy5L8gzzBPBsDbv1jdw2IImOK\u002fKxH1xwgC0r\u002fch\u002fPQAQjZPwqj80QhRrO\u002fdrDk\u002fuFJ1r9NRhed9DPLv7c2sjhAm+E\u002f7wTtWfrX478y51IfsQnMP1SHlNlD1+S\u002fS3LvN8hN1r+jF84ebbq6vzaoDX7kMue\u002fA1CUEdM777+IxA+0\u002fP9GPysR9ccIAtK\u002fNQm1OpLVrL9pJg+9UNXkv1dP6o4i\u002ftG\u002fK5GfypRqo79Lcu83yE3Wv0zQJ7sqA8C\u002f7wTtWfrX478upcFe3abhP0ty7zfITda\u002f2OB4SYGv3b+ANeoR2v3lv+1c6lqYBtg\u002foxfOHm26ur9f3o8G37XSv+UGndGpFsc\u002fXNjJevmW478ffvpeHzPrvysR9ccIAtK\u002fQn5F31uO3b8rEfXHCALSv1IC7gq40dC\u002fB93E+zjZ2b8oGFAMumDYv81Mq4mLe96\u002fYYt6\u002f0zF3r\u002f1iH6cg53EvyCYld\u002fiBeC\u002fvYSvejXqhb+2QSUOkcTcv4A16hHa\u002feW\u002fwEBuIUAn67+Xcn\u002f7VJnAP\u002fuOEIWdQOK\u002ft8vgbfSdo79f1cg6MtrkvwWQpku1lLA\u002fACTTfHxv8r8B3zzeLVzfP1YQozrUqrq\u002fH376Xh8z67+7Bs8D24\u002fGvxoUq8bwrtK\u002fx14mxutZ1r93SXh+h9TiP0oPW\u002f5Bd74\u002f0CihVtbX4j+2LDnKusnkP1WCu+3e6YW\u002fRDgCaRlLuT+epyDahmurP0ty7zfITda\u002fgOarTCMy3z8i\u002fMjDnSHdv88yEPmemu8\u002fphBFOeFJxr+T6X+SOFTtv0EOWfdMauY\u002fgDXqEdr95b\u002fr\u002f4NBPjPwv0ty7zfITda\u002faSYPvVDV5L8Kjz3tQh\u002fUv4A16hHa\u002feW\u002f\u002fY4kazTb0b9fyeEUdUHcPxw03bHBOO+\u002fG6TNFUBOyb\u002fAaoGOVdiTv34EHokLuK6\u002foxfOHm26ur+T6X+SOFTtv+QnpTo2su0\u002f067vKXhjyL\u002fTru8peGPIv1iLZKUUYaq\u002fYgY1xIdg8T+W8tn3ypDkv3fgdYvSX9S\u002fVcyHM0mI0T\u002fOJediRNW4vzEPZ6z7rMW\u002f\u002fmn0eHz67r\u002fH6EwBXqXiv0ty7zfITda\u002fV6i2hQk23z+jPPKACMvnP3RqeyqCqOg\u002f2PURBXGv4r8ESh6IvV26PyRRwiMZOME\u002flvLZ98qQ5L\u002fUh4mLl+rnv9jw\u002fjkpmMO\u002ftiw5yrrJ5D\u002f5W9ii\u002fnHkPzxkn2bJEpo\u002fG6TNFUBOyb+xyOEfSEXIvysR9ccIAtK\u002f7HGxB9NZ1j+xyOEfSEXIv52PXogOSWO\u002fRDgCaRlLuT+K+QF+ki\u002fjPw1RyzgrYMi\u002flYD\u002fFSXo2T\u002fG8WY31O\u002frP53jAmSvSNW\u002f3nj0y8784L+mCmRKb1+sv0D12WguPOG\u002fTMmbGjrkyr88ZJ9myRKaPwhOxWn0Ha2\u002fgDXqEdr95b\u002fTru8peGPIvyloJ6YSztq\u002f2RL1iwgFur8gmJXf4gXgv0ty7zfITda\u002fS3LvN8hN1r8Plfci2g3av4qJ95dm2dG\u002f2RrMWdITrD+zbumuyzTBv88yEPmemu8\u002fopyaGjQBxD9Lcu83yE3Wv5unxXCfpui\u002f7wTtWfrX479VUJZAxB3Yv2Bu\u002fXXuvWW\u002fgDXqEdr95b92sOT+4UnWv0QPa3mBDLy\u002f3zvb9zwy57\u002f1iH6cg53EvxsXIy6KVcy\u002fNNNXlc42778sWDfMlHi4P2AplKlzW+E\u002fwFR3gh8tzb9CFW5CmkbgP924FrjGQ+S\u002foxfOHm26ur8l2SnIOrTsv+6dG2y++Nq\u002fFFK0hsH\u002f7j8nW71amYdov6M88oAIy+c\u002f9urclw6uyz84bY2cQn3ivytc52amK86\u002fWNPWc0wFtT8IbTakSPTZP\u002f998D6HH+U\u002fz16qS6b66b84bY2cQn3iv0xy7zfITda\u002fS3LvN8hN1r+DZ0YL0f3Mv1WHlNlD1+S\u002f"},"type":"scatter","xaxis":"x2","yaxis":"y2"},{"legendgroup":"k3_group","marker":{"color":"green","opacity":0.7,"size":7},"mode":"markers","name":"K=3, Cluster 2","x":{"dtype":"f8","bdata":"EE93UHKk8j+cDf8Umq\u002f1P5UN\u002fxSar\u002fU\u002f2qj6DlQV6D8kYXD2ID2rPzW1C7qR9vc\u002fQ9OMfgEq9T\u002f20DExk0vlP1DMPDMMm90\u002fJkQTpcup8T9tNs9t4HfVv7sroORhdus\u002fFjqoU21r7z+aDf8Umq\u002f1P80C14i3sfg\u002fcUAx0yA47j8HHqiUxWLCP\u002f24xShrEfU\u002f2jLp\u002f95vgb+TZObXsD3kP73U6XdqZdE\u002fSeXHCx4J4j\u002f\u002f1v2OruT0P8rz7S7wyuY\u002fxHj2lJ\u002fs9D9CvQhhNBTnPwRR+nj67e4\u002fHmBnj1lI+z8x2FoY2Oj2P5djpk\u002fvReA\u002fmg3\u002fFJqv9T889pCJLYL0P15r8cHhY+M\u002fiYKQLI5u8D9c9IUaHUHYP6gIMXvD8PM\u002fH8uAs13b+T\u002fsR2xTECn5P9Ved6rPYe8\u002ftWz2uVnq6z+jfjJrQZjDP+YGvHrVaPM\u002fORen4fpw7j+Z02kedQfxP7RlNp2k8fM\u002fhz9tT8WL9j\u002f87ecSulvzPwp\u002frziutPk\u002fpcAX43Iq7j8eYGePWUj7P\u002f24xShrEfU\u002f\u002fOfYRCGl4j\u002ffgOQlCpfzPwCcwT40mvg\u002fGeIlx4Yq7D8="},"y":{"dtype":"f8","bdata":"zqF\u002feaC+7r8VR6nsu\u002fL4vwxHqey78vi\u002fP8+X1b8r8b\u002fUM0SaqCf1vwHxKPJyLtG\u002fgwFfYsvYvr8W6Ub48Jvlvz10G74z0K4\u002f5cHwPJdN7L+\u002f2kp3DTjsvw4oLCQaIsa\u002fD2BCxqtO7L8OR6nsu\u002fL4vwwEHr8Khte\u002fRe0lp+kn5r9krX8XQB7yvyc8nl\u002f+x\u002fe\u002figbIwkmG9r9c0xUpEL3Zv8dhXi8iIPO\u002f670gp3Ms+b9Gn69V7hmqP9L52\u002fO3gti\u002fIwEbOgBe479YlszwmSL0v+X\u002fJTDwDb6\u002f0BAAi9Du2b+e37q56yfiv0KwLUXqavK\u002fDkep7Lvy+L8DXf\u002fHX2Puv6A\u002fEY6Ul+u\u002fu9Rf0Jw09L\u002fjPAUCueLqv1jH8cVSzPG\u002fOvkHHjR28L+Vsl3b\u002f7u0v+g7fc9XCfC\u002ffiu7ocucuD8xOgPEdCH3v95jxxIeTtW\u002fcoFUuOUb4L8TDrzWdyeVv1CY5KKJQ52\u002ftoOChmNu17+52rnifyLPv9PYCOP+5ea\u002fEYUXUPlz8b\u002fQEACL0O7Zvyc8nl\u002f+x\u002fe\u002fUqJG8AT78L93LQ35LODgv\u002fEZ+JohzOW\u002fCPR\u002fBibc3D8="},"type":"scatter","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,0.45],"title":{"text":"PC1"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"xaxis2":{"anchor":"y2","domain":[0.55,1.0],"title":{"text":"PC1"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"title":{"text":"PC2"}},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Clusters with K=2","x":0.225,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Clusters with K=3","x":0.775,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":25},"text":"Cluster Distribution in space for K=1 and K=2","y":0.97,"x":0.5,"xanchor":"center","yanchor":"top"},"margin":{"t":80,"b":50,"l":40,"r":40},"width":1100,"height":550,"hovermode":"closest","showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('aebefd5e-0bfa-4699-bc76-88e7e84ebe38');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="visualizing-the-center-of-each-cluster" class="level6">
<h6 data-anchor-id="visualizing-the-center-of-each-cluster">Visualizing the center of each cluster:</h6>
<div id="f0eeda0d" class="cell" data-execution_count="37">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>cluster_colors <span class="op">=</span> [<span class="st">'red'</span>, <span class="st">'blue'</span>, <span class="st">'green'</span>]</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>unique_clusters <span class="op">=</span> <span class="bu">sorted</span>(df_clusters_k3[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> cluster_idx, cluster_num <span class="kw">in</span> <span class="bu">enumerate</span>(unique_clusters):</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    mask <span class="op">=</span> df_clusters_k3[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_num</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(go.Scatter(</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>df_clusters_k3.loc[mask, df_clusters_k3.columns[<span class="dv">0</span>]],</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>df_clusters_k3.loc[mask, df_clusters_k3.columns[<span class="dv">1</span>]],</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>cluster_colors[cluster_idx <span class="op">%</span> <span class="bu">len</span>(cluster_colors)],</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>            opacity<span class="op">=</span><span class="fl">0.7</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>            size<span class="op">=</span><span class="dv">8</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="ss">f'Cluster </span><span class="sc">{</span>cluster_num<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Scatter(</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>kmeans_k3.cluster_centers_[:, <span class="dv">0</span>],</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>kmeans_k3.cluster_centers_[:, <span class="dv">1</span>],</span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>    mode<span class="op">=</span><span class="st">'markers'</span>,</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>        size<span class="op">=</span><span class="dv">16</span>,</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span><span class="st">'black'</span>,</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>        symbol<span class="op">=</span><span class="st">'x'</span></span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">'Centroids'</span></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">"Centroids of each Cluster with k=3"</span>,</span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span>df_clusters_k3.columns[<span class="dv">0</span>] <span class="cf">if</span> <span class="bu">len</span>(df_clusters_k3.columns) <span class="op">&gt;</span> <span class="dv">0</span> <span class="cf">else</span> <span class="st">'Component 1'</span>,</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span>df_clusters_k3.columns[<span class="dv">1</span>] <span class="cf">if</span> <span class="bu">len</span>(df_clusters_k3.columns) <span class="op">&gt;</span> <span class="dv">1</span> <span class="cf">else</span> <span class="st">'Component 2'</span>,</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a>    legend_title_text<span class="op">=</span><span class="st">'Legend'</span>,</span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">900</span>,</span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">650</span>,</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="6af7a76b-852f-42e6-b2e9-090d907b84b4" class="plotly-graph-div" style="height:650px; width:900px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("6af7a76b-852f-42e6-b2e9-090d907b84b4")) {                    Plotly.newPlot(                        "6af7a76b-852f-42e6-b2e9-090d907b84b4",                        [{"marker":{"color":"red","opacity":0.7,"size":8},"mode":"markers","name":"Cluster 0","x":{"dtype":"f8","bdata":"Di5HaF5O7j\u002fn7Kp4gPDOvxG+gJxOe+s\u002fRC7SUshJ9T8b2ZOqLg7TP5RxQi\u002fu8dc\u002fEEfzz2\u002ff7T+oPph6Lq7kP\u002f9GBVVX4My\u002fWd9GONTssT9KMdUkTW\u002fmP\u002fXVWpCRvKA\u002ff8CFhbMdzz8xDwDGkB51P3EPlfWA\u002fvM\u002f2TJiILPw5z8TroRGPbzeP+1O1qmV89A\u002f9vpMJ3D42T\u002fSYZGNnM\u002fEP4DFPBcXEdM\u002fqj6Kl23t2b9Xq3sFj1L1P3swp3B5OuM\u002feUAHBbqw6z\u002fhN4XMHxrcP5PiKWCriOg\u002f5bVEDQyO1z84fxgc61rlP8Sfb5HHhdM\u002fcMR8Oot3uj8frYDcM3rOP6eHFhmm+N4\u002fQTntYQPvwz9TpYyoKBXKP5ySsj4knKe\u002ft8zNuLXa7j+LzmGhWk3gP6hSfSFRQec\u002fFtmTqi4O0z+Zylixr8zeP3TgAGlrRc4\u002fm0QUap2N8D\u002fcfehmEGXVPz+3XpIYEOI\u002fFtmTqi4O0z8DTbT6X+\u002fgP1mNIGU28fA\u002fJNV2DVXQ5T80\u002fLV24RjWP\u002fumIWlJddU\u002fmeK+KMD\u002f4D8W2ZOqLg7TP5BNBy0metA\u002f3pj0XDkr3D+0EDpK17PxP1fztBjaG+4\u002fdaLw0B71RT+AxTwXFxHTPxnwUpPH8s0\u002fiLugHSnw4D\u002f3MV15xenEP4DFPBcXEdM\u002flL1JO0rm0D\u002fGTa8eezLDvyeznvN2oMY\u002fGArIvojipD\u002fIpHymlWH0P\u002f7xQdWUFfA\u002fgmi7KPYilj8P7+aKmrPTP7qRavc1L9c\u002fPbhG1vY87D\u002fihTZV0Qa5P9607LCir+Q\u002fg7ht66eT8T\u002fWpEDDIJ\u002fNP\u002fzS2sHz6LS\u002fBGIEM4Wf1T+puvE6eTTkP1017cJbdNE\u002fVuNm0tHJ0r\u002fcyjW2sm7EP4lUZchfK7I\u002fDEFmvngd0j8W2ZOqLg7TPz0lDSQgnM8\u002fg+zP27br1T\u002fa+ghTJo3HP916+1I6eb2\u002fMXgWnhbK6j8JpoKUlNPoP65eoqby986\u002fXJ6Y7T3X3j8W2ZOqLg7TP+y9rTyES+M\u002fbUiW1EOx6j8W2ZOqLg7TP06h2cVIHNk\u002fFXgck1EYqr\u002f3hUgJYDbgP4Ban1dmldk\u002f+X3wZbo14z9k9zmuqhyZv6IPSUiThso\u002fdcUYRM9L7j8Zu4Du2G3mP5cSaqNhhLC\u002fp9Jz3PE0sr82IHhu1x7kv9AksocY2Nm\u002fTAoLfDS63j9899PkggXuPxZwyudZb+k\u002fIdnT8hTd4D+oRW4dl3PKPzgMP\u002fmuTOG\u002fMsLhWICv7D9R70rnGT7OPxbZk6ouDtM\u002fbk7VxLZo3T\u002fZxMcl1VapvwzT1V5ZQ+I\u002fKfvoI6XOwj\u002f838qKnG30P4ecZ+lmf\u002fA\u002fOS7SUshJ9T\u002fPCqYrTXd9vyL6NwXj58w\u002fb6nn1l1F4T8GUXsTO3vvP7p12tM48tc\u002f90eSbH1zsr\u002fb9bDwfmK5vxbZk6ouDtM\u002fY2aaczMU2j986RLUyRfaP6sK7wrA4ss\u002fdjIypquv4D99rvDICo7kP1IO8NZqz9Q\u002fFAqH3Q0o6D9HY06y93PlP6WllPhZB8s\u002fdaLw0B71RT+Yh8EzBISvP9yZ57Ce2PI\u002fIgBxaZ95zT+w3f\u002fS7ZDfPymqhB6wNts\u002fIR0UkOWW0D+hP151r9D2P294GhUtCdU\u002fOOtJhKFmzD81CrcZtl\u002fmP1AkLQ4eO8w\u002fdth3so0Wu78W2ZOqLg7TP80ovLz4bnO\u002fz7LSvEQL4z8Trgm9zjTKv+p\u002fxvPQRtA\u002fcZ2LWRa54j9Qdxbmvo3RPwFNqq7\u002fJvQ\u002feODP2C1G5D+tE4mDdW\u002fgP7cSHjah2rC\u002fRegCCImJz780vEjEIRmfP+aoaxmHf8M\u002fymxhNQhO3T\u002f6qfKnMunQP4btlRmxWus\u002fRZq\u002fF6\u002fDzz\u002f2l7NnubnjPzuYxcaJx+Q\u002fdlX6CPOk0j8W2ZOqLg7TP0r+4qIuFp4\u002fsQwhiH9j8z\u002fWk8ZMNfzVPxbZk6ouDtM\u002fWDSMmcm75D9HAq75foPTP+qBKs7Ilus\u002fdaJydshT3D+3Eh42odqwv58r8n7tGcY\u002fDLijf6\u002fX1j8vMwblNnrpP\u002fZzvNLqiOU\u002fjYCiuV0O4b8orbNGRr\u002fKP9fOUEz6xPQ\u002fFtmTqi4O0z\u002f1fdCrsGrqP2DUCV\u002fnXOA\u002fJWBoymXZxz\u002fMD2TFpFTdPxbZk6ouDtM\u002fawfYsLjf6D\u002fkuBgSesHTP0hhVBj67Lk\u002fKLganqJnuL+vONjJbJjuPw=="},"y":{"dtype":"f8","bdata":"s9uMK1Yn3z9B+e0uYz7WPwmT9UgIYaE\u002fiumnyuNQ3z+7HYZkrezWvxgcUKaUxNY\u002fzuVZBZXZ0z\u002fC92cY0mjFP22JNiOTfvc\u002f5E4iyAl01z\u002fB9Q0U1ViRP3och77gjs8\u002fmX4Q4daTyr+X7ddpSenxP8UETKOwttg\u002fLzAAanoV6D8BVLxDNRzxPyM2D4+yPsc\u002f4LZ2qiRu5j\u002fzsLSZWmXrP9xbeyvH6Na\u002fmlsvKH\u002fF6D\u002fyKXBfAjOov4FbM0\u002fEcNU\u002fsUOCK3YK7j9x9Fj3KY\u002fJv2qXN2Dxgd4\u002fAoTjVWqgxD\u002faZqUYr8vjP\u002f66D5drytM\u002fsi4MeGc05z9k+OT1MoXRvxPjJSgo2fk\u002fSfz4hvQg4z8PehBOt9q1P8u30QIeeuE\u002fhhTWNLgN0D83KX+xNIrTv03hHdvGA8m\u002fsx2GZK3s1r9fImhEY6byPyw\u002fETd5zsA\u002fHgTP3Cu+ub\u002fwkLdX78DUPwzmPcSM3r4\u002fsx2GZK3s1r9lmBf90I\u002fyP82GatoP7dM\u002frb+sd2DF2j8SNlXscRz6P7Qq34fwtsC\u002ffuOW+ank4D+zHYZkrezWvx5bjS9Px8w\u002f\u002f4hsha4C8D+zYTVYrEatPxSblpxJ7OE\u002f2E8Sihfsk7\u002fcW3srx+jWv+\u002f+A9Osues\u002fG3c\u002fc3sG5T8JO24rnoe6v9xbeyvH6Na\u002fQ8Uo0QE2vb8JIKBHiB7kPytmrOZ4QLo\u002fX4j9wauI8z8u7eIJYaecP7IbwJh96NY\u002fw9Y+mJcM2j9yTv+LUUzrPyCIUig5f+A\u002fPdenGgG+yL8ovsNSBWPjP417fYqecMU\u002f7PUz+xM0YD\u002fmJpbSHZWov53mY\u002fETk9c\u002fYpQIjmE67D9B\u002fO9z323ev3yy9rKTt3e\u002fVxnzErncxD9DUNjBRYPnP7q61hYh\u002ft8\u002fFJyVfXsP3T+zHYZkrezWv3A1SqB25tA\u002fvuRbfslNyT8XsB6x5BD4P58dy\u002f0TwPA\u002fON3AXdY34r\u002fWf9D669jiPw6vJkYHQfI\u002fjW1iJeEVwr+zHYZkrezWv3UxKBJnsds\u002ftj4tbLMHzL+zHYZkrezWv3dXU\u002f+bq+C\u002fs7wsVnOOmb9\u002fxkRSSxrmP\u002fe2uZR+xdM\u002fvDxgMzKw6j8I+UMEC+n0P3PaB9VuH9E\u002fGKOlUh7W2j8+2GGDcRqRP4FhUblFKds\u002fMyCx4jZt6D+oegcE\u002fn7xP4GlveFxrb8\u002fF0YMcyXF5j\u002fBH4jhAnDMP76zkpP7aco\u002fNF0gAi9K1z82fEp2h4foPwCvbHkRW+Y\u002f\u002fiMsEUE\u002fxT8VbF9wPaeiv7MdhmSt7Na\u002fcipoMHNV2b8yZdfm+VH0P70nJ2b9z9k\u002fABxkaWSQ6z9ULOb1jXyUPw5eSwIABus\u002feumnyuNQ3z9m1QT+trTwP7w5eOZDX+s\u002fWBUGL1+p7j8ynehA5ZTWPwai5bZMX+E\u002fRupWOyso5D8EcWytLR\u002fhP7MdhmSt7Na\u002fHH3mZ7R3yz8\u002fKInlRILPv3VlUgMTKvQ\u002f68LYMrXM4r\u002fo91vx9rD0P\u002fs2e61aFcK\u002fG\u002f3GRgFd0D9QpQOXD\u002fDWv84BNL3BksY\u002f2E8Sihfsk79yxyLuSl7WP9NqxoB+p+Y\u002fab46lHxc3T\u002fRAVqzWgPhPzvDX6OQFcc\u002fUmeH0lP\u002f6T8A\u002f75gy06rP2OLQTtI\u002fuQ\u002fE+b9gjEh0z8mDSSJYLLCP9X95eyWHeo\u002fuvCt1Ym08z+zHYZkrezWv5pq1iMoS+w\u002fjoOIDngSqj8PPbl+OjjMPzzq7qRYMvI\u002fLmwA9j4K8D9F00SMlkf3PzleZkp2\u002fdM\u002fXO9zzlYQ8z+h17mNZtn2P4kVjxPcKO4\u002fMdYN9yfewb\u002fWY4PSxt7uPzHfR8YMZe0\u002fFo8ANM456T\u002fqvf3saCa9v9ciQq+frvA\u002fF37rl1uq2z9gKqCuHa7pP7f+fEJbCfA\u002fpM+n9vF5k7+zHYZkrezWvyYWVODOask\u002fVi8wQRMe2b849Ym+dBXQP7MdhmSt7Na\u002fB8YciNuV4T90NJ8kqI3rPwuOXAWioNk\u002f0nSpLYsE9D+JFY8T3CjuP0XzlXywEb4\u002fEjuM78Q03D8UiuTNWf\u002fzP719ze5oYOY\u002f94Ek5opz2j\u002fuQ4vO9af4P87FoAPGQsm\u002fsx2GZK3s1r9FOOpvUKbzP8xTs2z4l5U\u002fu2w8ADgS5z+h\u002fUlU06XyP7MdhmSt7Na\u002fpSuGkXRh5z\u002fymIJmZ+7sP1nRe++EJNw\u002fpmFCm06a3j+1d3CFXCznPw=="},"type":"scatter"},{"marker":{"color":"blue","opacity":0.7,"size":8},"mode":"markers","name":"Cluster 1","x":{"dtype":"f8","bdata":"5UMUVgHo0D\u002fFigqrKaXjv3yp0bN2RfG\u002fCRIsvc937784E0HP86vuvwAw1bEJBuS\u002fvFsdvykV4r9LzVh+X4Pnv5umOu7eDee\u002f1tDcMT39879kNnNfCwbJv4PYO+eXf\u002fC\u002ftVblFH8E0r\u002fOWuB8iJ3PvyPM\u002fdUjGNC\u002fZfr7wtc85r9WL3f0Hnjcv+Oz8P0lA+K\u002fpsEQb2tO67\u002fTYqvBWSrlv5cTPSIOv\u002fC\u002fnjbmeFk58b\u002fXkZg4EwPlv7fxmqe7AvG\u002fva8TXWCv8L\u002fXvEsLaYLov7DkH5h9UfG\u002fAhFy9SiU5b9ieH80mVbjv0c7U6EXatu\u002feYyt6z4347+5MAX8bx\u002fwv2HNN3amOYM\u002fLpVCFQ5+3L8GLL5Z+km9P2J4fzSZVuO\u002fZCZKsAIm2b8mWaukou3Tv7fxmqe7AvG\u002fZ7Nps68557+HV77crRzzvzxbdrqpgO6\u002fFWcx2QRq1r\u002fMMsdTSYvWv49s59Uqy9a\u002fRhZZtco1478yK\u002f2hz\u002fHnv4d0d3+YWuG\u002ffZt\u002fVyP05b\u002f3IEGrynvUP4PERMcCqdG\u002fgIzKzvUtyD84E0HP86vuvz+j0pnxjtq\u002f9sSi83wu47\u002fMUWEqaE3av1\u002fNEvvMaMO\u002ft\u002fGap7sC8b\u002fmIwIuC2bhv8Ym8HoRcuK\u002fBZ3smH+q7r+52P2asKfrv9VUgmmxTuG\u002fDDOgQd2D6L9Sd8Zn6u\u002fSv4y4pkIMG9C\u002fOBNBz\u002fOr7r\u002f4IOYG5r\u002fvvwj5crQDF9K\u002fhMGN9ZENhj8T73F1VVTov7fxmqe7AvG\u002f+x7wlbUc6r8jzP3VIxjQv5y2cIwBAvG\u002f2UnzjnJR3784E0HP86vuv4Lc5qVCguK\u002fDDOgQd2D6L\u002fFtBra49zhvzgTQc\u002fzq+6\u002fPliiMFEB0r\u002fTYqvBWSrlv+eYr+IbueS\u002f+CDmBua\u002f77\u002fOduQ2gvznv5riyLpWjNm\u002f4VYJodViur+5fgi0TCPiv7fxmqe7AvG\u002farOY1Rj2yb+38ZqnuwLxvxVtEhcdIuS\u002frzU5nM+X0j9dY2\u002fjuSKvP3V8tJf1wdq\u002f77Uv7AcR4b8P4z5GFp\u002fvv2SxdyphmtO\u002fTcu9d4MT279UQ\u002f49DDXlv9Niq8FZKuW\u002f4zG\u002fG13qyj8bLO1kXQXsv37NJqcHIri\u002fRmvdeaFl8L+\u002fRawqj+\u002fVvzOgV9PyB+e\u002fJh9bFbV807\u002fwDXj7zMrxv8WqkdBxvu+\u002fuX4ItEwj4r+HscG95pnqv1Y6+WMvCuW\u002fGq+RrCbd579O+ecG2+jWv8uJl+xL3s+\u002fLpCP42IQ4L9kscBTn\u002frxv849a4IrwLs\u002fwQ8kEgXd57+TU7Xi4wDavzgTQc\u002fzq+6\u002ftBDwTU404b8P04YhIzDev4jXM8kFVPO\u002fDpFYu4Jdo7\u002fUOYbhigPcv9LR0bp\u002fvs+\u002f02KrwVkq5b+cmI9BLn\u002fYvzgTQc\u002fzq+6\u002fI8z91SMY0L\u002fUIyAfyPDpv9Niq8FZKuW\u002fDW17fnnztb98ToTPeMTlvziG1XKfgNW\u002fuIxqBhU18L8kAdAxKIjXv\u002fZzl2ijd9K\u002f+CDmBua\u002f77\u002fUOYbhigPcv+mPaPrgRfC\u002fDzhrc\u002f\u002fY178POGtz\u002f9jXv\u002fU+zrqi+ei\u002frB\u002fXPb4N3b++BdjQ4afjv6Yza9ZFrOO\u002fxKG7uQu6uT+7WuT6joHWvzxbdrqpgO6\u002fBClwzh8KgD+UcSOyLFzgvzgTQc\u002fzq+6\u002fgJqbF9oy4b+nUGGtDMryv\u002f6VmEudROG\u002fj2zn1SrL1r\u002fJTzQX1YLYv9D+QFBLg9W\u002fvgXY0OGn479DNBc7JJPFv3VZ2w4kt++\u002fZLHAU5\u002f68b8Y50VlRETvv+5YzxntQeS\u002fuIxqBhU18L8D9iJdyzzov7fxmqe7AvG\u002fkWGTaOO86L8D9iJdyzzov\u002f\u002fPYlNvruO\u002fwQ8kEgXd57\u002feC8slXcHkv3cGt\u002fIhTtm\u002f6PAsTX8S7L8ULCd+jcvnv2Y+7DCgfIu\u002fIPCVp2bSrb\u002fMlEexrC7av7FLhrBPZ8I\u002fPx8bmFel3L\u002fuWM8Z7UHkv2CuuiJ0xte\u002f02KrwVkq5b8POGtz\u002f9jXvwaTYqRyeqo\u002fePiM5WDm4b9ksXcqYZrTvzgTQc\u002fzq+6\u002fOBNBz\u002fOr7r+fxaPM8hiKP0KAd2KUTMu\u002fw8Y3ktsW6L9oLHoVPqPKP4jXM8kFVPO\u002fYtNapjq8tb84E0HP86vuv32dBYG38bA\u002fDDOgQd2D6L\u002f2r9CvNEjnv1\u002fH9\u002ftEU92\u002f02KrwVkq5b8FneyYf6ruv07j9uBmW9O\u002fVVAVaSv6378P4z5GFp\u002fvv0oHzZ0ZYtq\u002f0ZksBrd91b\u002fBDYeKRGDwv3AEmsSC9Om\u002fd+Ko\u002f7t1kj+vHnlP\u002fB3pv+8BlflIpLO\u002f+CDmBua\u002f77\u002f53iFHj7Pev\u002f5pzvaVb+2\u002fhuHRBLro5r8qprLgZjTbv6dQYa0MyvK\u002fTbtWdfSL8r9LzVh+X4Pnv8ww5Elziua\u002f2ZZ22rxi5L+FKu43pnDxv4t6ZzP5lvO\u002f\u002ffsY0mL+zD9LzVh+X4PnvzkTQc\u002fzq+6\u002fOBNBz\u002fOr7r+Uog1aUwnpv4y4pkIMG9C\u002f"},"y":{"dtype":"f8","bdata":"Rcvu1mZP8b\u002fI4FzV1s7AP1UUB5kNvLw\u002fpzGHwp\u002fi5T9Kcu83yE3Wv0plYJP+Eei\u002f7ACSPpeH1D84bY2cQn3iv9M+gv\u002fpRNS\u002fSlYXBGXx4z+rUnHk78vzv294ISIfl9I\u002f492R9\u002frK3z\u002fQMSbsKZvZv2kmD71Q1eS\u002fyryN+qBY3L8J6zpRMv\u002fSvxOZOUwOgbA\u002fBqEvfa690r+ANeoR2v3lv5jSqCpnwKc\u002fmAz1K1rmzT\u002fOefJemjDEPysR9ccIAtK\u002fK8IsSPt\u002fhb8EpGc9B9bjv\u002fFDBl7Cxr4\u002f8owr7KSazL9QC94\u002fXQzlv6\u002fNIhs4Tci\u002f7Yfc5ohj47+0da6SWv2Sv\u002fWPlfpfEc0\u002fiAM0n8J14r\u002ftl5AUqE3Kv1AL3j9dDOW\u002fDsNLAd8U17\u002f7uf1m\u002frScvysR9ccIAtK\u002fMtV1RqEnoL8CkDtN7kPePzEPZ6z7rMW\u002fR3xb67xp3b+PmsI2a0DFP9j1EQVxr+K\u002fASdXypVh4799\u002f1hEMbLYPwrS\u002f8XwhdQ\u002fF5xhbjEC6T8hXgdd5MDjv\u002fPvcHibiO6\u002fEHHsz6VUxr9Lcu83yE3WvwVX4IFS+t6\u002fMYGCkUXy5L8gzzBPBsDbv1jdw2IImOK\u002fKxH1xwgC0r\u002fch\u002fPQAQjZPwqj80QhRrO\u002fdrDk\u002fuFJ1r9NRhed9DPLv7c2sjhAm+E\u002f7wTtWfrX478y51IfsQnMP1SHlNlD1+S\u002fS3LvN8hN1r+jF84ebbq6vzaoDX7kMue\u002fA1CUEdM777+IxA+0\u002fP9GPysR9ccIAtK\u002fNQm1OpLVrL9pJg+9UNXkv1dP6o4i\u002ftG\u002fK5GfypRqo79Lcu83yE3Wv0zQJ7sqA8C\u002f7wTtWfrX478upcFe3abhP0ty7zfITda\u002f2OB4SYGv3b+ANeoR2v3lv+1c6lqYBtg\u002foxfOHm26ur9f3o8G37XSv+UGndGpFsc\u002fXNjJevmW478ffvpeHzPrvysR9ccIAtK\u002fQn5F31uO3b8rEfXHCALSv1IC7gq40dC\u002fB93E+zjZ2b8oGFAMumDYv81Mq4mLe96\u002fYYt6\u002f0zF3r\u002f1iH6cg53EvyCYld\u002fiBeC\u002fvYSvejXqhb+2QSUOkcTcv4A16hHa\u002feW\u002fwEBuIUAn67+Xcn\u002f7VJnAP\u002fuOEIWdQOK\u002ft8vgbfSdo79f1cg6MtrkvwWQpku1lLA\u002fACTTfHxv8r8B3zzeLVzfP1YQozrUqrq\u002fH376Xh8z67+7Bs8D24\u002fGvxoUq8bwrtK\u002fx14mxutZ1r93SXh+h9TiP0oPW\u002f5Bd74\u002f0CihVtbX4j+2LDnKusnkP1WCu+3e6YW\u002fRDgCaRlLuT+epyDahmurP0ty7zfITda\u002fgOarTCMy3z8i\u002fMjDnSHdv88yEPmemu8\u002fphBFOeFJxr+T6X+SOFTtv0EOWfdMauY\u002fgDXqEdr95b\u002fr\u002f4NBPjPwv0ty7zfITda\u002faSYPvVDV5L8Kjz3tQh\u002fUv4A16hHa\u002feW\u002f\u002fY4kazTb0b9fyeEUdUHcPxw03bHBOO+\u002fG6TNFUBOyb\u002fAaoGOVdiTv34EHokLuK6\u002foxfOHm26ur+T6X+SOFTtv+QnpTo2su0\u002f067vKXhjyL\u002fTru8peGPIv1iLZKUUYaq\u002fYgY1xIdg8T+W8tn3ypDkv3fgdYvSX9S\u002fVcyHM0mI0T\u002fOJediRNW4vzEPZ6z7rMW\u002f\u002fmn0eHz67r\u002fH6EwBXqXiv0ty7zfITda\u002fV6i2hQk23z+jPPKACMvnP3RqeyqCqOg\u002f2PURBXGv4r8ESh6IvV26PyRRwiMZOME\u002flvLZ98qQ5L\u002fUh4mLl+rnv9jw\u002fjkpmMO\u002ftiw5yrrJ5D\u002f5W9ii\u002fnHkPzxkn2bJEpo\u002fG6TNFUBOyb+xyOEfSEXIvysR9ccIAtK\u002f7HGxB9NZ1j+xyOEfSEXIv52PXogOSWO\u002fRDgCaRlLuT+K+QF+ki\u002fjPw1RyzgrYMi\u002flYD\u002fFSXo2T\u002fG8WY31O\u002frP53jAmSvSNW\u002f3nj0y8784L+mCmRKb1+sv0D12WguPOG\u002fTMmbGjrkyr88ZJ9myRKaPwhOxWn0Ha2\u002fgDXqEdr95b\u002fTru8peGPIvyloJ6YSztq\u002f2RL1iwgFur8gmJXf4gXgv0ty7zfITda\u002fS3LvN8hN1r8Plfci2g3av4qJ95dm2dG\u002f2RrMWdITrD+zbumuyzTBv88yEPmemu8\u002fopyaGjQBxD9Lcu83yE3Wv5unxXCfpui\u002f7wTtWfrX479VUJZAxB3Yv2Bu\u002fXXuvWW\u002fgDXqEdr95b92sOT+4UnWv0QPa3mBDLy\u002f3zvb9zwy57\u002f1iH6cg53EvxsXIy6KVcy\u002fNNNXlc42778sWDfMlHi4P2AplKlzW+E\u002fwFR3gh8tzb9CFW5CmkbgP924FrjGQ+S\u002foxfOHm26ur8l2SnIOrTsv+6dG2y++Nq\u002fFFK0hsH\u002f7j8nW71amYdov6M88oAIy+c\u002f9urclw6uyz84bY2cQn3ivytc52amK86\u002fWNPWc0wFtT8IbTakSPTZP\u002f998D6HH+U\u002fz16qS6b66b84bY2cQn3iv0xy7zfITda\u002fS3LvN8hN1r+DZ0YL0f3Mv1WHlNlD1+S\u002f"},"type":"scatter"},{"marker":{"color":"green","opacity":0.7,"size":8},"mode":"markers","name":"Cluster 2","x":{"dtype":"f8","bdata":"EE93UHKk8j+cDf8Umq\u002f1P5UN\u002fxSar\u002fU\u002f2qj6DlQV6D8kYXD2ID2rPzW1C7qR9vc\u002fQ9OMfgEq9T\u002f20DExk0vlP1DMPDMMm90\u002fJkQTpcup8T9tNs9t4HfVv7sroORhdus\u002fFjqoU21r7z+aDf8Umq\u002f1P80C14i3sfg\u002fcUAx0yA47j8HHqiUxWLCP\u002f24xShrEfU\u002f2jLp\u002f95vgb+TZObXsD3kP73U6XdqZdE\u002fSeXHCx4J4j\u002f\u002f1v2OruT0P8rz7S7wyuY\u002fxHj2lJ\u002fs9D9CvQhhNBTnPwRR+nj67e4\u002fHmBnj1lI+z8x2FoY2Oj2P5djpk\u002fvReA\u002fmg3\u002fFJqv9T889pCJLYL0P15r8cHhY+M\u002fiYKQLI5u8D9c9IUaHUHYP6gIMXvD8PM\u002fH8uAs13b+T\u002fsR2xTECn5P9Ved6rPYe8\u002ftWz2uVnq6z+jfjJrQZjDP+YGvHrVaPM\u002fORen4fpw7j+Z02kedQfxP7RlNp2k8fM\u002fhz9tT8WL9j\u002f87ecSulvzPwp\u002frziutPk\u002fpcAX43Iq7j8eYGePWUj7P\u002f24xShrEfU\u002f\u002fOfYRCGl4j\u002ffgOQlCpfzPwCcwT40mvg\u002fGeIlx4Yq7D8="},"y":{"dtype":"f8","bdata":"zqF\u002feaC+7r8VR6nsu\u002fL4vwxHqey78vi\u002fP8+X1b8r8b\u002fUM0SaqCf1vwHxKPJyLtG\u002fgwFfYsvYvr8W6Ub48Jvlvz10G74z0K4\u002f5cHwPJdN7L+\u002f2kp3DTjsvw4oLCQaIsa\u002fD2BCxqtO7L8OR6nsu\u002fL4vwwEHr8Khte\u002fRe0lp+kn5r9krX8XQB7yvyc8nl\u002f+x\u002fe\u002figbIwkmG9r9c0xUpEL3Zv8dhXi8iIPO\u002f670gp3Ms+b9Gn69V7hmqP9L52\u002fO3gti\u002fIwEbOgBe479YlszwmSL0v+X\u002fJTDwDb6\u002f0BAAi9Du2b+e37q56yfiv0KwLUXqavK\u002fDkep7Lvy+L8DXf\u002fHX2Puv6A\u002fEY6Ul+u\u002fu9Rf0Jw09L\u002fjPAUCueLqv1jH8cVSzPG\u002fOvkHHjR28L+Vsl3b\u002f7u0v+g7fc9XCfC\u002ffiu7ocucuD8xOgPEdCH3v95jxxIeTtW\u002fcoFUuOUb4L8TDrzWdyeVv1CY5KKJQ52\u002ftoOChmNu17+52rnifyLPv9PYCOP+5ea\u002fEYUXUPlz8b\u002fQEACL0O7Zvyc8nl\u002f+x\u002fe\u002fUqJG8AT78L93LQ35LODgv\u002fEZ+JohzOW\u002fCPR\u002fBibc3D8="},"type":"scatter"},{"marker":{"color":"black","size":16,"symbol":"x"},"mode":"markers","name":"Centroids","x":{"dtype":"f8","bdata":"byvMIQga2j9MW1LcJfbiv2bDyNmRyu8\u002f"},"y":{"dtype":"f8","bdata":"oVD5yIMa2j8P1zNGKzLHv8XnY6R5Nui\u002f"},"type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"title":{"text":"Legend"}},"title":{"text":"Centroids of each Cluster with k=3"},"xaxis":{"title":{"text":"PC1"}},"yaxis":{"title":{"text":"PC2"}},"width":900,"height":650},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6af7a76b-852f-42e6-b2e9-090d907b84b4');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
</section>
<section id="choice-of-k3" class="level3">
<h3 data-anchor-id="choice-of-k3">Choice of K=3</h3>
<p>Although the Silhouette metric is only slightly superior for K=3 (0.1239) compared to K=2 (0.1198), it still suggests that the model with three clusters offers a more refined division of respondents’ behavioral profiles.</p>
<p>The 2D PCA plots show some overlap between clusters (consistent with low silhouette scores) but also reveal that the cluster centers are in distinct positions, indicating that K-Means successfully found different patterns and that the groups capture relevant differences in behavioral profiles.</p>
</section>
<section id="cluster-interpretation-and-insight-generation" class="level2">
<h2 data-anchor-id="cluster-interpretation-and-insight-generation">Cluster Interpretation and Insight Generation</h2>
<section id="getting-and-visualizing-the-centroids" class="level6">
<h6 data-anchor-id="getting-and-visualizing-the-centroids">Getting and visualizing the centroids:</h6>
<div id="ee93edf5" class="cell" data-execution_count="38">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>centroids_pca <span class="op">=</span> kmeans_k3.cluster_centers_</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>centroids_ohe <span class="op">=</span> pca.inverse_transform(centroids_pca)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>centroids_df <span class="op">=</span> pd.DataFrame(centroids_ohe, columns<span class="op">=</span>ohe.get_feature_names_out())</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(centroids_df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   pergunta_1_B  pergunta_1_C  pergunta_1_D  pergunta_2_B  pergunta_2_C  \
0      0.263288      0.248406      0.098141      0.387035      0.193359   
1      0.219534      0.280162      0.095265      0.474151      0.123222   
2      0.025306      0.041283      0.881655      0.205811      0.278800   

   pergunta_2_D  pergunta_3_B  pergunta_3_C  pergunta_3_D  pergunta_4_B  ...  \
0      0.029919      0.223320      0.183665      0.055479      0.387110  ...   
1      0.069168      0.212591      0.204563      0.059880      0.330362  ...   
2      0.357298      0.204543      0.205405      0.155626      0.071828  ...   

   pergunta_5_D  pergunta_6_B  pergunta_6_C  pergunta_6_D  pergunta_7_B  \
0      0.049661      0.012986      0.641069      0.119277      0.205592   
1      0.041706      0.984988     -0.012480     -0.018666      0.196746   
2      0.472921      0.215230      0.397455      0.378123      0.138356   

   pergunta_7_C  pergunta_7_D  pergunta_8_B  pergunta_8_C  pergunta_8_D  
0      0.237598      0.047379      0.329218      0.284800      0.084105  
1      0.193919      0.042967      0.237891      0.185972      0.076092  
2      0.375957      0.421558      0.009357      0.069340      0.852161  

[3 rows x 24 columns]</code></pre>
</div>
</div>
</section>
<section id="frequency-table-of-answers-in-each-cluster" class="level6">
<h6 data-anchor-id="frequency-table-of-answers-in-each-cluster">Frequency table of answers in each Cluster:</h6>
<div id="0dad6dec" class="cell" data-execution_count="39">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Junta o cluster ao dataframe original</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>df_clusters <span class="op">=</span> df_gf.copy()</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>df_clusters[<span class="st">'Cluster'</span>] <span class="op">=</span> clusters_k3</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>titulos_perguntas <span class="op">=</span> {</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_1'</span>: <span class="st">'Clarity Level'</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_2'</span>: <span class="st">'Current Financial Situation'</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_3'</span>: <span class="st">'Support and Involvement'</span>,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_4'</span>: <span class="st">'Planning Organization Level'</span>,</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_5'</span>: <span class="st">'Current Investment Possibility'</span>,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_6'</span>: <span class="st">'Desired Wedding Style'</span>,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_7'</span>: <span class="st">'Honeymoon Planning'</span>,</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pergunta_8'</span>: <span class="st">'Commitment to make it real'</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>perguntas <span class="op">=</span> df_gf.columns.tolist()</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>num_perguntas <span class="op">=</span> <span class="bu">len</span>(perguntas)</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>n_rows <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>n_cols <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>subplot_titles_list <span class="op">=</span> []</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n_rows <span class="op">*</span> n_cols):</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&lt;</span> num_perguntas:</span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>        pergunta_nome <span class="op">=</span> perguntas[i]</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>        titulo <span class="op">=</span> titulos_perguntas.get(pergunta_nome, pergunta_nome)</span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>        subplot_titles_list.append(<span class="ss">f'</span><span class="sc">{</span>titulo<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>        subplot_titles_list.append(<span class="st">''</span>)</span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(</span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span>n_rows,</span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>    cols<span class="op">=</span>n_cols,</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>subplot_titles_list,</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>    horizontal_spacing<span class="op">=</span><span class="fl">0.07</span>,</span>
<span id="cb53-34"><a href="#cb53-34" aria-hidden="true" tabindex="-1"></a>    vertical_spacing<span class="op">=</span><span class="fl">0.12</span></span>
<span id="cb53-35"><a href="#cb53-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-36"><a href="#cb53-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-37"><a href="#cb53-37" aria-hidden="true" tabindex="-1"></a>palette <span class="op">=</span> qualitative.Vivid</span>
<span id="cb53-38"><a href="#cb53-38" aria-hidden="true" tabindex="-1"></a>unique_cluster_values <span class="op">=</span> <span class="bu">sorted</span>(df_clusters[<span class="st">'Cluster'</span>].unique())</span>
<span id="cb53-39"><a href="#cb53-39" aria-hidden="true" tabindex="-1"></a>cluster_color_map <span class="op">=</span> {</span>
<span id="cb53-40"><a href="#cb53-40" aria-hidden="true" tabindex="-1"></a>    cluster_val: palette[i <span class="op">%</span> <span class="bu">len</span>(palette)]</span>
<span id="cb53-41"><a href="#cb53-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, cluster_val <span class="kw">in</span> <span class="bu">enumerate</span>(unique_cluster_values)</span>
<span id="cb53-42"><a href="#cb53-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-43"><a href="#cb53-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-44"><a href="#cb53-44" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, pergunta <span class="kw">in</span> <span class="bu">enumerate</span>(perguntas):</span>
<span id="cb53-45"><a href="#cb53-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&gt;=</span> n_rows <span class="op">*</span> n_cols:</span>
<span id="cb53-46"><a href="#cb53-46" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb53-47"><a href="#cb53-47" aria-hidden="true" tabindex="-1"></a>    row_num <span class="op">=</span> (i <span class="op">//</span> n_cols) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb53-48"><a href="#cb53-48" aria-hidden="true" tabindex="-1"></a>    col_num <span class="op">=</span> (i <span class="op">%</span> n_cols) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb53-49"><a href="#cb53-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-50"><a href="#cb53-50" aria-hidden="true" tabindex="-1"></a>    ordem_categorias <span class="op">=</span> df_clusters[pergunta].value_counts().index.tolist()</span>
<span id="cb53-51"><a href="#cb53-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-52"><a href="#cb53-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> cluster_val <span class="kw">in</span> unique_cluster_values:</span>
<span id="cb53-53"><a href="#cb53-53" aria-hidden="true" tabindex="-1"></a>        df_subset_cluster <span class="op">=</span> df_clusters[df_clusters[<span class="st">'Cluster'</span>] <span class="op">==</span> cluster_val]</span>
<span id="cb53-54"><a href="#cb53-54" aria-hidden="true" tabindex="-1"></a>        counts <span class="op">=</span> df_subset_cluster[pergunta].value_counts()</span>
<span id="cb53-55"><a href="#cb53-55" aria-hidden="true" tabindex="-1"></a>        y_values <span class="op">=</span> [counts.get(cat, <span class="dv">0</span>) <span class="cf">for</span> cat <span class="kw">in</span> ordem_categorias]</span>
<span id="cb53-56"><a href="#cb53-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-57"><a href="#cb53-57" aria-hidden="true" tabindex="-1"></a>        fig.add_trace(go.Bar(</span>
<span id="cb53-58"><a href="#cb53-58" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>ordem_categorias,</span>
<span id="cb53-59"><a href="#cb53-59" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>y_values,</span>
<span id="cb53-60"><a href="#cb53-60" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="ss">f'Cluster </span><span class="sc">{</span>cluster_val<span class="sc">}</span><span class="ss">'</span>,</span>
<span id="cb53-61"><a href="#cb53-61" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>cluster_color_map[cluster_val],</span>
<span id="cb53-62"><a href="#cb53-62" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">False</span></span>
<span id="cb53-63"><a href="#cb53-63" aria-hidden="true" tabindex="-1"></a>        ), row<span class="op">=</span>row_num, col<span class="op">=</span>col_num)</span>
<span id="cb53-64"><a href="#cb53-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-65"><a href="#cb53-65" aria-hidden="true" tabindex="-1"></a>    fig.update_xaxes(</span>
<span id="cb53-66"><a href="#cb53-66" aria-hidden="true" tabindex="-1"></a>        <span class="bu">type</span><span class="op">=</span><span class="st">'category'</span>,</span>
<span id="cb53-67"><a href="#cb53-67" aria-hidden="true" tabindex="-1"></a>        categoryorder<span class="op">=</span><span class="st">'array'</span>,</span>
<span id="cb53-68"><a href="#cb53-68" aria-hidden="true" tabindex="-1"></a>        categoryarray<span class="op">=</span>ordem_categorias,</span>
<span id="cb53-69"><a href="#cb53-69" aria-hidden="true" tabindex="-1"></a>        tickangle<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb53-70"><a href="#cb53-70" aria-hidden="true" tabindex="-1"></a>        showticklabels<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb53-71"><a href="#cb53-71" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span>row_num,</span>
<span id="cb53-72"><a href="#cb53-72" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span>col_num</span>
<span id="cb53-73"><a href="#cb53-73" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-74"><a href="#cb53-74" aria-hidden="true" tabindex="-1"></a>    fig.update_yaxes(</span>
<span id="cb53-75"><a href="#cb53-75" aria-hidden="true" tabindex="-1"></a>        title_text<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb53-76"><a href="#cb53-76" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span>row_num,</span>
<span id="cb53-77"><a href="#cb53-77" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span>col_num</span>
<span id="cb53-78"><a href="#cb53-78" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-79"><a href="#cb53-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-80"><a href="#cb53-80" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb53-81"><a href="#cb53-81" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">1100</span>,</span>
<span id="cb53-82"><a href="#cb53-82" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1100</span>,</span>
<span id="cb53-83"><a href="#cb53-83" aria-hidden="true" tabindex="-1"></a>    barmode<span class="op">=</span><span class="st">'group'</span>,</span>
<span id="cb53-84"><a href="#cb53-84" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb53-85"><a href="#cb53-85" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb53-86"><a href="#cb53-86" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb53-87"><a href="#cb53-87" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">'Frequency of answers in each Cluster'</span>,</span>
<span id="cb53-88"><a href="#cb53-88" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb53-89"><a href="#cb53-89" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb53-90"><a href="#cb53-90" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb53-91"><a href="#cb53-91" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.97</span>,</span>
<span id="cb53-92"><a href="#cb53-92" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">20</span>}</span>
<span id="cb53-93"><a href="#cb53-93" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb53-94"><a href="#cb53-94" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">100</span>, b<span class="op">=</span><span class="dv">65</span>, l<span class="op">=</span><span class="dv">35</span>, r<span class="op">=</span><span class="dv">35</span>)</span>
<span id="cb53-95"><a href="#cb53-95" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-96"><a href="#cb53-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-97"><a href="#cb53-97" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="da14ba46-7f4d-4d2c-b337-2ee7d066b47f" class="plotly-graph-div" style="height:1100px; width:1100px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("da14ba46-7f4d-4d2c-b337-2ee7d066b47f")) {                    Plotly.newPlot(                        "da14ba46-7f4d-4d2c-b337-2ee7d066b47f",                        [{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","C","B","D"],"y":[81,51,54,20],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","C","B","D"],"y":[96,65,51,22],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","C","B","D"],"y":[1,3,2,49],"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["B","A","C","D"],"y":[80,79,40,7],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["B","A","C","D"],"y":[111,78,29,16],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["B","A","C","D"],"y":[11,10,15,19],"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","B","C","D"],"y":[110,46,38,12],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","B","C","D"],"y":[121,50,48,15],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","B","C","D"],"y":[26,11,11,7],"type":"bar","xaxis":"x3","yaxis":"y3"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","B","C","D"],"y":[92,80,29,5],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","B","C","D"],"y":[134,77,18,5],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","B","C","D"],"y":[4,4,15,32],"type":"bar","xaxis":"x4","yaxis":"y4"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["B","A","C","D"],"y":[67,95,35,9],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["B","A","C","D"],"y":[146,60,18,10],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["B","A","C","D"],"y":[9,5,14,27],"type":"bar","xaxis":"x5","yaxis":"y5"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["B","C","A","D"],"y":[0,129,57,20],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["B","C","A","D"],"y":[233,0,1,0],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["B","C","A","D"],"y":[12,22,0,21],"type":"bar","xaxis":"x6","yaxis":"y6"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","C","B","D"],"y":[101,50,43,12],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","C","B","D"],"y":[133,45,46,10],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","C","B","D"],"y":[7,20,7,21],"type":"bar","xaxis":"x7","yaxis":"y7"},{"marker":{"color":"rgb(229, 134, 6)"},"name":"Cluster 0","showlegend":false,"x":["A","B","C","D"],"y":[61,68,59,18],"type":"bar","xaxis":"x8","yaxis":"y8"},{"marker":{"color":"rgb(93, 105, 177)"},"name":"Cluster 1","showlegend":false,"x":["A","B","C","D"],"y":[119,55,43,17],"type":"bar","xaxis":"x8","yaxis":"y8"},{"marker":{"color":"rgb(82, 188, 163)"},"name":"Cluster 2","showlegend":false,"x":["A","B","C","D"],"y":[3,1,4,47],"type":"bar","xaxis":"x8","yaxis":"y8"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,0.2866666666666667],"type":"category","categoryorder":"array","categoryarray":["A","C","B","D"],"tickangle":0,"showticklabels":true},"yaxis":{"anchor":"x","domain":[0.7466666666666667,1.0]},"xaxis2":{"anchor":"y2","domain":[0.3566666666666667,0.6433333333333333],"type":"category","categoryorder":"array","categoryarray":["B","A","C","D"],"tickangle":0,"showticklabels":true},"yaxis2":{"anchor":"x2","domain":[0.7466666666666667,1.0]},"xaxis3":{"anchor":"y3","domain":[0.7133333333333334,1.0],"type":"category","categoryorder":"array","categoryarray":["A","B","C","D"],"tickangle":0,"showticklabels":true},"yaxis3":{"anchor":"x3","domain":[0.7466666666666667,1.0]},"xaxis4":{"anchor":"y4","domain":[0.0,0.2866666666666667],"type":"category","categoryorder":"array","categoryarray":["A","B","C","D"],"tickangle":0,"showticklabels":true},"yaxis4":{"anchor":"x4","domain":[0.37333333333333335,0.6266666666666667]},"xaxis5":{"anchor":"y5","domain":[0.3566666666666667,0.6433333333333333],"type":"category","categoryorder":"array","categoryarray":["B","A","C","D"],"tickangle":0,"showticklabels":true},"yaxis5":{"anchor":"x5","domain":[0.37333333333333335,0.6266666666666667]},"xaxis6":{"anchor":"y6","domain":[0.7133333333333334,1.0],"type":"category","categoryorder":"array","categoryarray":["B","C","A","D"],"tickangle":0,"showticklabels":true},"yaxis6":{"anchor":"x6","domain":[0.37333333333333335,0.6266666666666667]},"xaxis7":{"anchor":"y7","domain":[0.0,0.2866666666666667],"type":"category","categoryorder":"array","categoryarray":["A","C","B","D"],"tickangle":0,"showticklabels":true},"yaxis7":{"anchor":"x7","domain":[0.0,0.25333333333333335]},"xaxis8":{"anchor":"y8","domain":[0.3566666666666667,0.6433333333333333],"type":"category","categoryorder":"array","categoryarray":["A","B","C","D"],"tickangle":0,"showticklabels":true},"yaxis8":{"anchor":"x8","domain":[0.0,0.25333333333333335]},"xaxis9":{"anchor":"y9","domain":[0.7133333333333334,1.0]},"yaxis9":{"anchor":"x9","domain":[0.0,0.25333333333333335]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Clarity Level","x":0.14333333333333334,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Current Financial Situation","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Support and Involvement","x":0.8566666666666667,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Planning Organization Level","x":0.14333333333333334,"xanchor":"center","xref":"paper","y":0.6266666666666667,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Current Investment Possibility","x":0.5,"xanchor":"center","xref":"paper","y":0.6266666666666667,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Desired Wedding Style","x":0.8566666666666667,"xanchor":"center","xref":"paper","y":0.6266666666666667,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Honeymoon Planning","x":0.14333333333333334,"xanchor":"center","xref":"paper","y":0.25333333333333335,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Commitment to make it real","x":0.5,"xanchor":"center","xref":"paper","y":0.25333333333333335,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":20},"text":"Frequency of answers in each Cluster","x":0.5,"xanchor":"center","yanchor":"top","y":0.97},"margin":{"t":100,"b":65,"l":35,"r":35},"height":1100,"width":1100,"barmode":"group","showlegend":false},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('da14ba46-7f4d-4d2c-b337-2ee7d066b47f');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
<section id="calculating-the-top-5-averages-for-each-answer-per-cluster" class="level6">
<h6 data-anchor-id="calculating-the-top-5-averages-for-each-answer-per-cluster">Calculating the top 5 averages for each answer per cluster:</h6>
<div id="08d3d0ff" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>df_encoded <span class="op">=</span> pd.get_dummies(df_clusters.drop(<span class="st">'Cluster'</span>, axis<span class="op">=</span><span class="dv">1</span>), prefix_sep<span class="op">=</span><span class="st">'_'</span>, drop_first<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>df_encoded[<span class="st">'Cluster'</span>] <span class="op">=</span> df_clusters[<span class="st">'Cluster'</span>]</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>centroids <span class="op">=</span> df_encoded.groupby(<span class="st">'Cluster'</span>).mean()</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span><span class="dv">1</span>, </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>    cols<span class="op">=</span><span class="dv">3</span>, </span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>[<span class="ss">f"Cluster </span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> i <span class="kw">in</span> centroids.index],</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>    specs<span class="op">=</span>[[{<span class="st">"type"</span>: <span class="st">"table"</span>}]<span class="op">*</span><span class="dv">3</span>]</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, cluster <span class="kw">in</span> <span class="bu">enumerate</span>(centroids.index):</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    top5 <span class="op">=</span> centroids.loc[cluster].sort_values(ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">5</span>)</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>        go.Table(</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>            header<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>                values<span class="op">=</span>[<span class="st">"Answer"</span>, <span class="st">"Proportion"</span>],</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>                fill_color<span class="op">=</span><span class="st">"lightgrey"</span>,</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>                align<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>                font<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">"black"</span>, size<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>            ),</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>            cells<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>                values<span class="op">=</span>[top5.index, top5.values.<span class="bu">round</span>(<span class="dv">3</span>)],</span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>                align<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>                height<span class="op">=</span><span class="dv">30</span></span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span>i<span class="op">+</span><span class="dv">1</span></span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span>, </span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb54-35"><a href="#cb54-35" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span>,</span>
<span id="cb54-36"><a href="#cb54-36" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span>{</span>
<span id="cb54-37"><a href="#cb54-37" aria-hidden="true" tabindex="-1"></a>        <span class="st">'text'</span>: <span class="st">'Most representative answers per Cluster'</span>,</span>
<span id="cb54-38"><a href="#cb54-38" aria-hidden="true" tabindex="-1"></a>        <span class="st">'x'</span>: <span class="fl">0.5</span>,</span>
<span id="cb54-39"><a href="#cb54-39" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xanchor'</span>: <span class="st">'center'</span>,</span>
<span id="cb54-40"><a href="#cb54-40" aria-hidden="true" tabindex="-1"></a>        <span class="st">'yanchor'</span>: <span class="st">'top'</span>,</span>
<span id="cb54-41"><a href="#cb54-41" aria-hidden="true" tabindex="-1"></a>        <span class="st">'y'</span>: <span class="fl">0.96</span>,</span>
<span id="cb54-42"><a href="#cb54-42" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pad'</span>: {<span class="st">'b'</span>: <span class="dv">15</span>}</span>
<span id="cb54-43"><a href="#cb54-43" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb54-44"><a href="#cb54-44" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">70</span>, b<span class="op">=</span><span class="dv">35</span>, l<span class="op">=</span><span class="dv">30</span>, r<span class="op">=</span><span class="dv">30</span>)</span>
<span id="cb54-45"><a href="#cb54-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-46"><a href="#cb54-46" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="a811ee47-1a8e-43b7-b5b6-cd1f77a8cf70" class="plotly-graph-div" style="height:300px; width:1000px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("a811ee47-1a8e-43b7-b5b6-cd1f77a8cf70")) {                    Plotly.newPlot(                        "a811ee47-1a8e-43b7-b5b6-cd1f77a8cf70",                        [{"cells":{"align":"left","height":30,"values":[["pergunta_6_C","pergunta_3_A","pergunta_7_A","pergunta_5_A","pergunta_4_A"],[0.626,0.534,0.49,0.461,0.447]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Answer","Proportion"]},"type":"table","domain":{"x":[0.0,0.2888888888888889],"y":[0.0,1.0]}},{"cells":{"align":"left","height":30,"values":[["pergunta_6_B","pergunta_5_B","pergunta_4_A","pergunta_7_A","pergunta_3_A"],[0.996,0.624,0.573,0.568,0.517]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Answer","Proportion"]},"type":"table","domain":{"x":[0.35555555555555557,0.6444444444444445],"y":[0.0,1.0]}},{"cells":{"align":"left","height":30,"values":[["pergunta_1_D","pergunta_8_D","pergunta_4_D","pergunta_5_D","pergunta_3_A"],[0.891,0.855,0.582,0.491,0.473]]},"header":{"align":"left","fill":{"color":"lightgrey"},"font":{"color":"black","size":12},"values":["Answer","Proportion"]},"type":"table","domain":{"x":[0.7111111111111111,1.0],"y":[0.0,1.0]}}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Cluster 0","x":0.14444444444444446,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Cluster 1","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Cluster 2","x":0.8555555555555556,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"title":{"pad":{"b":15},"text":"Most representative answers per Cluster","x":0.5,"xanchor":"center","yanchor":"top","y":0.96},"margin":{"t":70,"b":35,"l":30,"r":30},"height":300,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a811ee47-1a8e-43b7-b5b6-cd1f77a8cf70');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
<p>Based on the analysis of the centroids, which represent the average values (choice proportions) of each answer within each cluster, we can interpret that:</p>
<ul>
<li><p>The closer to 1, the more predominant this characteristic is in the group.</p></li>
<li><p>Each value ranges from 0 to 1 and represents the relative frequency with which that option was chosen within the cluster.</p></li>
</ul>
<p>This method allows us to understand the average profile and priorities of each segment.</p>
</section>
</section>
<section id="cluster-interpretation" class="level2">
<h2 data-anchor-id="cluster-interpretation">Cluster Interpretation</h2>
<section id="group-1-234-leads-cluster-1-47" class="level3">
<h3 data-anchor-id="group-1-234-leads-cluster-1-47">Group 1: 234 leads (Cluster 1 — 47%)</h3>
<section id="profile" class="level5">
<h5 data-anchor-id="profile">Profile:</h5>
<ul>
<li>Wedding Style (Question 6): Predominantly, they desire “Something intimate and simple, only with close people” (🔸 pergunta_6_B – 99.6%). This is the most striking trait of this group.</li>
<li>Investment Possibility (Question 5): Most believe they “Could do something simple” if they were to have the wedding today (🔸 pergunta_5_B – 62.4%).</li>
<li>Organization Level (Question 4): A significant portion “Haven’t started yet” planning (🔸 pergunta_4_A – 57.3%).</li>
<li>Honeymoon Planning (Question 7): Most “Haven’t thought about it yet” (🔸 pergunta_7_A – 56.8%).</li>
<li>Partner’s Support (Question 3): The partner is “Completely involved, dreaming with me” (🔸 pergunta_3_A – 51.7%).</li>
</ul>
</section>
<section id="behavior-summary" class="level5">
<h5 data-anchor-id="behavior-summary">Behavior Summary:</h5>
<ul>
<li>This is the largest group and is characterized by a clear desire for a simpler, more intimate wedding.</li>
<li>Financially, they feel capable of holding a modest event, but have not yet started practical organization or honeymoon planning.</li>
<li>Partner involvement is high, indicating a shared dream.</li>
<li>Despite the desired simplicity, the lack of initiation in planning suggests a need for guidance to take the first steps, even for a smaller event.</li>
</ul>
</section>
<section id="needs" class="level5">
<h5 data-anchor-id="needs">Needs:</h5>
<ul>
<li>Ideas and inspirations for simple, elegant, and economical weddings.</li>
<li>Planning tools focused on smaller, more objective events.</li>
<li>Direction on how to start planning an intimate wedding without complications.</li>
<li>Content that validates the choice for a smaller wedding, showing its benefits and charm.</li>
</ul>
<hr>
</section>
</section>
<section id="group-2-206-leads-cluster-0---42" class="level3">
<h3 data-anchor-id="group-2-206-leads-cluster-0---42">Group 2: 206 leads (Cluster 0 - 42%)</h3>
<section id="profile-1" class="level5">
<h5 data-anchor-id="profile-1">Profile:</h5>
<ul>
<li>Wedding Style (Question 6): They desire “A charming ceremony, with everything well done”, but not necessarily the most luxurious (🔸 pergunta_6_C – 62.6%).</li>
<li>Partner’s Support (Question 3): The partner is “Completely involved, dreaming with me” (🔸 pergunta_3_A – 53.4%).</li>
<li>Honeymoon Planning (Question 7): The vast majority “Haven’t thought about it yet” (🔸 pergunta_7_A – 49.0%).</li>
<li>Investment Possibility (Question 5): They feel they “Couldn’t afford anything yet” if the wedding were today (🔸 pergunta_5_A – 46.1%).</li>
<li>Organization Level (Question 4): They “Haven’t started yet” planning (🔸 pergunta_4_A – 44.7%).</li>
</ul>
</section>
<section id="behavior-summary-1" class="level5">
<h5 data-anchor-id="behavior-summary-1">Behavior Summary:</h5>
<ul>
<li>This group, one of the largest, is at a very early stage. They have clear dreams and desires about the ceremony style and have strong mutual support as a couple.</li>
<li>However, they face practical paralysis due to lack of organization and, crucially, the perception of financial incapacity at the moment.</li>
<li>They are dreaming big, but feel lost about where to start, with budget and organization being the main bottlenecks.</li>
</ul>
</section>
<section id="needs-1" class="level5">
<h5 data-anchor-id="needs-1">Needs:</h5>
<ul>
<li>Practical, step-by-step guides: “From scratch to dream wedding: a beginner’s guide”.</li>
<li>Basic organization tools: simple checklists, initial timelines, budget spreadsheet templates for beginners.</li>
<li>Solutions and ideas for affordable weddings: Content on how to achieve a charming ceremony on a limited budget.</li>
<li>Emotional and motivational content: Reinforcing that it’s normal to feel lost at the beginning and that it’s possible to turn the dream into reality with planning, even with limited resources.</li>
</ul>
<hr>
</section>
</section>
<section id="group-3-55-leads-cluster-2-11" class="level3">
<h3 data-anchor-id="group-3-55-leads-cluster-2-11">Group 3: 55 leads (Cluster 2 — 11%)</h3>
<section id="profile-2" class="level5">
<h5 data-anchor-id="profile-2">Profile:</h5>
<ul>
<li>Clarity Level (Question 1): They have a very high level of clarity: “We know exactly what we want and have already started organizing” (�� pergunta_1_D – 89.1%).</li>
<li>Commitment (Question 8): They are highly committed: “We are ready, we want to act and truly achieve it” (🔸 pergunta_8_D – 85.5%).</li>
<li>Organization Level (Question 4): They are already well organized: “We have spreadsheets, goals, and even a defined timeline” (🔸 pergunta_4_D – 58.2%).</li>
<li>Investment Possibility (Question 5): They believe they “Could afford a good part, but we want more freedom” financially (🔸 pergunta_5_D – 49.1%).</li>
<li>Partner’s Support (Question 3): The partner is “Completely involved, dreaming with me” (🔸 pergunta_3_A – 47.3%).</li>
</ul>
</section>
<section id="behavior-summary-2" class="level5">
<h5 data-anchor-id="behavior-summary-2">Behavior Summary:</h5>
<ul>
<li>This is the smallest group, but it represents the most decisive and proactive brides.</li>
<li>They have total clarity about the desired wedding, are highly committed, and already have advanced planning.</li>
<li>Financially, they are in a relatively comfortable position, but seek to optimize their resources for “more freedom.”</li>
<li>Partner support is also strong, indicating a joint and aligned effort.</li>
<li>They have probably researched extensively and may be looking to optimize what they have already planned or find suppliers and solutions that fit their clear vision.</li>
</ul>
</section>
<section id="needs-2" class="level5">
<h5 data-anchor-id="needs-2">Needs:</h5>
<ul>
<li>Solutions to optimize the budget and maximize the value of the investment.</li>
<li>Advanced tools for vendor management or detailed timelines.</li>
<li>Specialized consulting to refine details or resolve specific planning points.</li>
<li>Inspiration for finishing touches or differentiated elements that add value to the already well-defined wedding.</li>
<li>Confirmation that they are on the right track and access to trusted suppliers.</li>
</ul>
<section id="lead-counts-in-each-group" class="level6">
<h6 data-anchor-id="lead-counts-in-each-group">Lead counts in each Group:</h6>
<div id="271c6e0a" class="cell" data-execution_count="41">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Contagem dos clusters</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>cluster_counts <span class="op">=</span> df_clusters[<span class="st">'Cluster'</span>].value_counts().sort_index()</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>x_labels <span class="op">=</span> {<span class="dv">0</span>: <span class="st">'Grupo 2'</span>, <span class="dv">1</span>: <span class="st">'Grupo 1'</span>, <span class="dv">2</span>: <span class="st">'Grupo 3'</span>}</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>x_axis_labels <span class="op">=</span> [x_labels[c] <span class="cf">for</span> c <span class="kw">in</span> cluster_counts.index]</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>vivid_palette_px <span class="op">=</span> px.colors.qualitative.Vivid</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>bar_colors <span class="op">=</span> [vivid_palette_px[i <span class="op">%</span> <span class="bu">len</span>(vivid_palette_px)] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(cluster_counts.index))]</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>fig.add_trace(go.Bar(</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span>x_axis_labels,</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span>cluster_counts.values,</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>    marker_color<span class="op">=</span>bar_colors,</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>    text<span class="op">=</span>cluster_counts.values,</span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>    texttemplate<span class="op">=</span><span class="st">'&lt;b&gt;%</span><span class="sc">{y}</span><span class="st">&lt;/b&gt;'</span>,</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>    textposition<span class="op">=</span><span class="st">'outside'</span>,</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    textfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">12</span>, color<span class="op">=</span><span class="st">'black'</span>, family<span class="op">=</span><span class="st">'Arial'</span>)</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>))</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">'Leads by Group'</span>,</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">20</span>, color<span class="op">=</span><span class="st">'black'</span>, family<span class="op">=</span><span class="st">'Arial Black'</span>),</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>        xanchor<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="fl">0.97</span>,</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>        yanchor<span class="op">=</span><span class="st">'top'</span>,</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>        pad<span class="op">=</span>{<span class="st">'b'</span>: <span class="dv">12</span>}</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>    xaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>        tickangle<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>        <span class="bu">type</span><span class="op">=</span><span class="st">'category'</span>,</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>        tickfont<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>, color<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>    yaxis<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>            text<span class="op">=</span><span class="st">'Número de Leads'</span>,</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>            font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>)</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>        showgrid<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>        gridcolor<span class="op">=</span><span class="st">'rgba(211, 211, 211, 0.7)'</span>,</span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>        griddash<span class="op">=</span><span class="st">'dash'</span>,</span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>        gridwidth<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>        <span class="bu">range</span><span class="op">=</span>[<span class="dv">0</span>, cluster_counts.values.<span class="bu">max</span>() <span class="op">*</span> <span class="fl">1.15</span>]</span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>    width<span class="op">=</span><span class="dv">520</span>,</span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">450</span>,</span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>    plot_bgcolor<span class="op">=</span><span class="st">'white'</span>,</span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>    font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>),</span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">75</span>, b<span class="op">=</span><span class="dv">55</span>, l<span class="op">=</span><span class="dv">60</span>, r<span class="op">=</span><span class="dv">60</span>)</span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="e9ce6cba-997c-4cf0-bb7d-f93d1d52b966" class="plotly-graph-div" style="height:450px; width:520px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e9ce6cba-997c-4cf0-bb7d-f93d1d52b966")) {                    Plotly.newPlot(                        "e9ce6cba-997c-4cf0-bb7d-f93d1d52b966",                        [{"marker":{"color":["rgb(229, 134, 6)","rgb(93, 105, 177)","rgb(82, 188, 163)"]},"text":{"dtype":"f8","bdata":"AAAAAADAaUAAAAAAAEBtQAAAAAAAgEtA"},"textfont":{"color":"black","family":"Arial","size":12},"textposition":"outside","texttemplate":"\u003cb\u003e%{y}\u003c\u002fb\u003e","x":["Grupo 2","Grupo 1","Grupo 3"],"y":{"dtype":"i2","bdata":"zgDqADcA"},"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"title":{"font":{"size":20,"color":"black","family":"Arial Black"},"pad":{"b":12},"text":"Leads by Group","x":0.5,"xanchor":"center","y":0.97,"yanchor":"top"},"xaxis":{"tickfont":{"size":14,"color":"black"},"title":{},"tickangle":0,"type":"category"},"yaxis":{"title":{"font":{"size":14},"text":"Número de Leads"},"showgrid":true,"gridcolor":"rgba(211, 211, 211, 0.7)","griddash":"dash","gridwidth":1,"range":[0,269.09999999999997]},"font":{"size":14},"margin":{"t":75,"b":55,"l":60,"r":60},"width":520,"height":450,"plot_bgcolor":"white"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e9ce6cba-997c-4cf0-bb7d-f93d1d52b966');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div>
</div>
</div>
</section>
</section>
</section>
<section id="segments-summary" class="level3">
<h3 data-anchor-id="segments-summary"><strong>Segments Summary</strong></h3>
<table class="caption-top table">
<colgroup>
<col style="width: 7%">
<col style="width: 6%">
<col style="width: 22%">
<col style="width: 18%">
<col style="width: 17%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>Cluster</th>
<th>Leads</th>
<th>Style</th>
<th>Organization</th>
<th>Investment</th>
<th>Emotion/Commitment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Group 1</td>
<td>234</td>
<td>Simple and intimate</td>
<td>Loose ideas</td>
<td>Something simple</td>
<td>Dreaming together, cautious</td>
</tr>
<tr class="even">
<td>Group 2</td>
<td>206</td>
<td>Charming, but lost</td>
<td>Haven’t started</td>
<td>Cannot afford</td>
<td>Dreaming, but lost</td>
</tr>
<tr class="odd">
<td>Group 3</td>
<td>55</td>
<td>Charming to grandiose</td>
<td>Extremely high</td>
<td>Can afford well</td>
<td>Very high commitment</td>
</tr>
</tbody>
</table>
<p>The proposed segmentation clearly shows three very distinct profiles, with different needs, desires, and conditions.</p>
<p>The use of KMeans with K=3 was the most appropriate, as it captured:</p>
<ul>
<li><p>Two large groups focusing on simplicity, but with subtle differences in the degree of organization and insecurity.</p></li>
<li><p>A smaller, but very valuable group of high-conversion clients and higher average ticket.</p></li>
</ul>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>